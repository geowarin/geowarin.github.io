<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Fun with xpath | Geowarin</title>
<meta name=keywords content="xpath,dom4j"><meta name=description content="How to select nodes with xPath and keep the file structure of the original document in java with dom4j"><meta name=author content="Geoffroy Warin"><link rel=canonical href=https://geowarin.com/fun-with-xpath/><link crossorigin=anonymous href=/assets/css/stylesheet.2850b07a804e8f4a6030d06c768653db6dd84be866101c131b1891c2bcf2a978.css integrity="sha256-KFCweoBOj0pgMNBsdoZT223YS+hmEBwTGxiRwrzyqXg=" rel="preload stylesheet" as=style><link rel=icon href=https://geowarin.com/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://geowarin.com/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://geowarin.com/favicon-32x32.png><link rel=apple-touch-icon href=https://geowarin.com/apple-touch-icon.png><link rel=mask-icon href=https://geowarin.com/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://geowarin.com/fun-with-xpath/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:url" content="https://geowarin.com/fun-with-xpath/"><meta property="og:site_name" content="Geowarin"><meta property="og:title" content="Fun with xpath"><meta property="og:description" content="How to select nodes with xPath and keep the file structure of the original document in java with dom4j"><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="article:section" content="post"><meta property="article:published_time" content="2014-01-30T00:00:00+00:00"><meta property="article:modified_time" content="2014-01-30T00:00:00+00:00"><meta property="article:tag" content="Xpath"><meta property="article:tag" content="Dom4j"><meta name=twitter:card content="summary"><meta name=twitter:title content="Fun with xpath"><meta name=twitter:description content="How to select nodes with xPath and keep the file structure of the original document in java with dom4j"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://geowarin.com/post/"},{"@type":"ListItem","position":2,"name":"Fun with xpath","item":"https://geowarin.com/fun-with-xpath/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Fun with xpath","name":"Fun with xpath","description":"How to select nodes with xPath and keep the file structure of the original document in java with dom4j","keywords":["xpath","dom4j"],"articleBody":"I had fun today at work when I had to design a program that allows users to select nodes with xPath but keep the same hierarchical structure as the original xml file.\nThe result with tests is available on github.\nFor instance, the following xPath /persons/person[@age \u003e 18]/project[@language = 'java'], would select the lines highlighted in the file below :\nNormal xPath result would be a list of nodes like that\n","wordCount":"433","inLanguage":"en","datePublished":"2014-01-30T00:00:00Z","dateModified":"2014-01-30T00:00:00Z","author":{"@type":"Person","name":"Geoffroy Warin"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://geowarin.com/fun-with-xpath/"},"publisher":{"@type":"Organization","name":"Geowarin","logo":{"@type":"ImageObject","url":"https://geowarin.com/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://geowarin.com/ accesskey=h title="Geowarin (Alt + H)">Geowarin</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://geowarin.com/archive/ title=Archive><span>Archive</span></a></li><li><a href=https://geowarin.com/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li><li><a href=https://geowarin.com/mastering-spring-mvc-4/ title=Book><span>Book</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://geowarin.com/>Home</a>&nbsp;»&nbsp;<a href=https://geowarin.com/post/>Posts</a></div><h1 class="post-title entry-hint-parent">Fun with xpath</h1><div class=post-meta><span title='2014-01-30 00:00:00 +0000 UTC'>January 30, 2014</span>&nbsp;·&nbsp;3 min&nbsp;·&nbsp;Geoffroy Warin</div></header><div class=post-content><p>I had fun today at work when I had to design a program that allows users to select nodes with xPath but keep the same hierarchical structure as the original xml file.</p><p>The result with tests is available <a href=https://github.com/geowarin/xpath-dom4j>on github</a>.</p><p>For instance, the following xPath <code>/persons/person[@age > 18]/project[@language = 'java']</code>, would select the lines highlighted in the file below :</p><script src=https://gist.github.com/geowarin/8720930.js></script><p>Normal xPath result would be a list of nodes like that</p><div class=highlight><pre tabindex=0 style=color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span><span style=color:#ff6ac1>&lt;project</span> <span style=color:#57c7ff>name=</span><span style=color:#5af78e>&#39;dom4j&#39;</span> <span style=color:#57c7ff>language=</span><span style=color:#5af78e>&#39;java&#39;</span><span style=color:#ff6ac1>/&gt;</span>
</span></span><span style=display:flex><span><span style=color:#ff6ac1>&lt;project</span> <span style=color:#57c7ff>name=</span><span style=color:#5af78e>&#39;dom4j&#39;</span> <span style=color:#57c7ff>language=</span><span style=color:#5af78e>&#39;java&#39;</span><span style=color:#ff6ac1>/&gt;</span>
</span></span></code></pre></div><p>But the desired output should look like this :</p><div class=highlight><pre tabindex=0 style=color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span><span style=color:#ff6ac1>&lt;persons&gt;</span>
</span></span><span style=display:flex><span>	<span style=color:#ff6ac1>&lt;person</span> <span style=color:#57c7ff>name=</span><span style=color:#5af78e>&#39;Joe&#39;</span> <span style=color:#57c7ff>age=</span><span style=color:#5af78e>&#39;26&#39;</span><span style=color:#ff6ac1>&gt;</span>
</span></span><span style=display:flex><span>		<span style=color:#ff6ac1>&lt;project</span> <span style=color:#57c7ff>name=</span><span style=color:#5af78e>&#39;dom4j&#39;</span> <span style=color:#57c7ff>language=</span><span style=color:#5af78e>&#39;java&#39;</span><span style=color:#ff6ac1>/&gt;</span>
</span></span><span style=display:flex><span>	<span style=color:#ff6ac1>&lt;/person&gt;</span>
</span></span><span style=display:flex><span>	<span style=color:#ff6ac1>&lt;person</span> <span style=color:#57c7ff>name=</span><span style=color:#5af78e>&#39;Jane&#39;</span> <span style=color:#57c7ff>age=</span><span style=color:#5af78e>&#39;23&#39;</span><span style=color:#ff6ac1>&gt;</span>
</span></span><span style=display:flex><span>		<span style=color:#ff6ac1>&lt;project</span> <span style=color:#57c7ff>name=</span><span style=color:#5af78e>&#39;dom4j&#39;</span> <span style=color:#57c7ff>language=</span><span style=color:#5af78e>&#39;java&#39;</span><span style=color:#ff6ac1>/&gt;</span>
</span></span><span style=display:flex><span>	<span style=color:#ff6ac1>&lt;/person&gt;</span>
</span></span><span style=display:flex><span><span style=color:#ff6ac1>&lt;/persons&gt;</span>
</span></span></code></pre></div><p>So I decided to write a small class to handle this use case :</p><div class=highlight><pre tabindex=0 style=color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#ff5c57>public</span> <span style=color:#ff5c57>class</span> <span style=color:#f3f99d>XPathFilter</span> {
</span></span><span style=display:flex><span>    <span style=color:#ff5c57>private</span> <span style=color:#ff5c57>final</span> Document xmlDocument;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#ff5c57>public</span> <span style=color:#57c7ff>XPathFilter</span>(String xml) {
</span></span><span style=display:flex><span>        xmlDocument <span style=color:#ff6ac1>=</span> readXml(xml);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#ff5c57>public</span> String <span style=color:#57c7ff>filter</span>(String xPath) {
</span></span><span style=display:flex><span>        Element root <span style=color:#ff6ac1>=</span> xmlDocument.<span style=color:#57c7ff>getRootElement</span>();
</span></span><span style=display:flex><span>        List<span style=color:#ff6ac1>&lt;</span>Element<span style=color:#ff6ac1>&gt;</span> resultNodes <span style=color:#ff6ac1>=</span> root.<span style=color:#57c7ff>selectNodes</span>(xPath);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#ff6ac1>if</span> (resultNodes.<span style=color:#57c7ff>isEmpty</span>()) {
</span></span><span style=display:flex><span>            <span style=color:#ff6ac1>throw</span> <span style=color:#ff6ac1>new</span> IllegalStateException(<span style=color:#5af78e>&#34;No result found for xpath &#34;</span> <span style=color:#ff6ac1>+</span> xPath);
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        deleteNonResultNodes(resultNodes);
</span></span><span style=display:flex><span>        <span style=color:#ff6ac1>return</span> write(root);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#ff5c57>private</span> <span style=color:#9aedfe>void</span> <span style=color:#57c7ff>deleteNonResultNodes</span>(List<span style=color:#ff6ac1>&lt;</span>Element<span style=color:#ff6ac1>&gt;</span> resultNodes) {
</span></span><span style=display:flex><span>        Set<span style=color:#ff6ac1>&lt;</span>Element<span style=color:#ff6ac1>&gt;</span> nodesToKeep <span style=color:#ff6ac1>=</span> <span style=color:#ff6ac1>new</span> HashSet<span style=color:#ff6ac1>&lt;&gt;</span>(resultNodes);
</span></span><span style=display:flex><span>        Set<span style=color:#ff6ac1>&lt;</span>Element<span style=color:#ff6ac1>&gt;</span> parents;
</span></span><span style=display:flex><span>        <span style=color:#ff6ac1>do</span> {
</span></span><span style=display:flex><span>            parents <span style=color:#ff6ac1>=</span> getParentNodes(nodesToKeep);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>            <span style=color:#ff6ac1>for</span> (Element parent : parents) {
</span></span><span style=display:flex><span>                List<span style=color:#ff6ac1>&lt;</span>Element<span style=color:#ff6ac1>&gt;</span> children <span style=color:#ff6ac1>=</span> parent.<span style=color:#57c7ff>elements</span>();
</span></span><span style=display:flex><span>                <span style=color:#ff6ac1>for</span> (Element child : children) {
</span></span><span style=display:flex><span>                    <span style=color:#ff6ac1>if</span> (<span style=color:#ff6ac1>!</span>nodesToKeep.<span style=color:#57c7ff>contains</span>(child)) {
</span></span><span style=display:flex><span>                        parent.<span style=color:#57c7ff>remove</span>(child);
</span></span><span style=display:flex><span>                    }
</span></span><span style=display:flex><span>                }
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>            nodesToKeep <span style=color:#ff6ac1>=</span> <span style=color:#ff6ac1>new</span> HashSet<span style=color:#ff6ac1>&lt;&gt;</span>(parents);
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#ff6ac1>while</span> (<span style=color:#ff6ac1>!</span>parents.<span style=color:#57c7ff>isEmpty</span>());
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#ff5c57>private</span> Set<span style=color:#ff6ac1>&lt;</span>Element<span style=color:#ff6ac1>&gt;</span> <span style=color:#57c7ff>getParentNodes</span>(Collection<span style=color:#ff6ac1>&lt;</span>Element<span style=color:#ff6ac1>&gt;</span> nodes) {
</span></span><span style=display:flex><span>        Set<span style=color:#ff6ac1>&lt;</span>Element<span style=color:#ff6ac1>&gt;</span> parents <span style=color:#ff6ac1>=</span> <span style=color:#ff6ac1>new</span> HashSet<span style=color:#ff6ac1>&lt;&gt;</span>();
</span></span><span style=display:flex><span>        <span style=color:#ff6ac1>for</span> (Element node : nodes) {
</span></span><span style=display:flex><span>            Element parent <span style=color:#ff6ac1>=</span> node.<span style=color:#57c7ff>getParent</span>();
</span></span><span style=display:flex><span>            <span style=color:#ff6ac1>if</span> (parent <span style=color:#ff6ac1>!=</span> <span style=color:#ff6ac1>null</span>) {
</span></span><span style=display:flex><span>                parents.<span style=color:#57c7ff>add</span>(parent);
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#ff6ac1>return</span> parents;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#ff5c57>private</span> Document <span style=color:#57c7ff>readXml</span>(String xml) {
</span></span><span style=display:flex><span>        Document document;
</span></span><span style=display:flex><span>        <span style=color:#ff6ac1>try</span> (StringReader reader <span style=color:#ff6ac1>=</span> <span style=color:#ff6ac1>new</span> StringReader(xml)) {
</span></span><span style=display:flex><span>            DocumentFactory factory <span style=color:#ff6ac1>=</span> <span style=color:#ff6ac1>new</span> DocumentFactory();
</span></span><span style=display:flex><span>            SAXReader saxReader <span style=color:#ff6ac1>=</span> <span style=color:#ff6ac1>new</span> SAXReader();
</span></span><span style=display:flex><span>            saxReader.<span style=color:#57c7ff>setDocumentFactory</span>(factory);
</span></span><span style=display:flex><span>            document <span style=color:#ff6ac1>=</span> saxReader.<span style=color:#57c7ff>read</span>(reader);
</span></span><span style=display:flex><span>        } <span style=color:#ff6ac1>catch</span> (DocumentException e) {
</span></span><span style=display:flex><span>            <span style=color:#ff6ac1>throw</span> <span style=color:#ff6ac1>new</span> IllegalArgumentException(e);
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#ff6ac1>return</span> document;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#ff5c57>private</span> String <span style=color:#57c7ff>write</span>(Element rootElement) {
</span></span><span style=display:flex><span>        Document documentOut <span style=color:#ff6ac1>=</span> DocumentHelper.<span style=color:#57c7ff>createDocument</span>();
</span></span><span style=display:flex><span>        documentOut.<span style=color:#57c7ff>add</span>((Element) rootElement.<span style=color:#57c7ff>clone</span>());
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        StringWriter writer <span style=color:#ff6ac1>=</span> <span style=color:#ff6ac1>new</span> StringWriter();
</span></span><span style=display:flex><span>        XMLWriter xmlWriter <span style=color:#ff6ac1>=</span> <span style=color:#ff6ac1>new</span> XMLWriter(writer, OutputFormat.<span style=color:#57c7ff>createPrettyPrint</span>());
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#ff6ac1>try</span> {
</span></span><span style=display:flex><span>            xmlWriter.<span style=color:#57c7ff>write</span>(documentOut);
</span></span><span style=display:flex><span>        } <span style=color:#ff6ac1>catch</span> (IOException e) {
</span></span><span style=display:flex><span>            <span style=color:#ff6ac1>throw</span> <span style=color:#ff6ac1>new</span> IllegalStateException(e);
</span></span><span style=display:flex><span>        } <span style=color:#ff6ac1>finally</span> {
</span></span><span style=display:flex><span>            <span style=color:#ff6ac1>try</span> {
</span></span><span style=display:flex><span>                xmlWriter.<span style=color:#57c7ff>close</span>();
</span></span><span style=display:flex><span>            } <span style=color:#ff6ac1>catch</span> (IOException ignored) {
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#ff6ac1>return</span> writer.<span style=color:#57c7ff>toString</span>();
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>The <code>readXml</code> and <code>write</code> methods are just standard <em>dom4j</em> stuff.</p><p>The real code lies in the <code>deleteNonResultNodes</code> function which traverses XML nodes
from the results to the root.
On each level, we will look at the parents of the current nodes (the selected ones at first) and delete every child which is not a result.</p><p>The parents will become the current nodes and will keep on until we reach the root.
At this point we would have kept only the xml structure that actually wrap our xPath results.</p><p>That&rsquo;s all folks ! Check out the result <a href=https://github.com/geowarin/xpath-dom4j>on github</a>, unit tests included.</p></div><footer class=post-footer><ul class=post-tags><li><a href=https://geowarin.com/tags/xpath/>Xpath</a></li><li><a href=https://geowarin.com/tags/dom4j/>Dom4j</a></li></ul><nav class=paginav><a class=prev href=https://geowarin.com/a-simple-spring-boot-and-jersey-application/><span class=title>« Prev</span><br><span>A simple Spring Boot and Jersey Application</span>
</a><a class=next href=https://geowarin.com/complete-example-of-a-spring-mvc-3.2-project/><span class=title>Next »</span><br><span>Complete example of a Spring MVC 3.2 project</span></a></nav><ul class=share-buttons><li><a target=_blank rel="noopener noreferrer" aria-label="share Fun with xpath on x" href="https://x.com/intent/tweet/?text=Fun%20with%20xpath&amp;url=https%3a%2f%2fgeowarin.com%2ffun-with-xpath%2f&amp;hashtags=xpath%2cdom4j"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M512 62.554V449.446C512 483.97 483.97 512 449.446 512H62.554C28.03 512 0 483.97.0 449.446V62.554C0 28.03 28.029.0 62.554.0H449.446C483.971.0 512 28.03 512 62.554zM269.951 190.75 182.567 75.216H56L207.216 272.95 63.9 436.783h61.366L235.9 310.383l96.667 126.4H456L298.367 228.367l134-153.151H371.033zM127.633 110h36.468l219.38 290.065H349.5z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Fun with xpath on linkedin" href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3a%2f%2fgeowarin.com%2ffun-with-xpath%2f&amp;title=Fun%20with%20xpath&amp;summary=Fun%20with%20xpath&amp;source=https%3a%2f%2fgeowarin.com%2ffun-with-xpath%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM160.461 423.278V197.561h-75.04v225.717h75.04zm270.539.0V293.839c0-69.333-37.018-101.586-86.381-101.586-39.804.0-57.634 21.891-67.617 37.266v-31.958h-75.021c.995 21.181.0 225.717.0 225.717h75.02V297.222c0-6.748.486-13.492 2.474-18.315 5.414-13.475 17.767-27.434 38.494-27.434 27.135.0 38.007 20.707 38.007 51.037v120.768H431zM123.448 88.722C97.774 88.722 81 105.601 81 127.724c0 21.658 16.264 39.002 41.455 39.002h.484c26.165.0 42.452-17.344 42.452-39.002-.485-22.092-16.241-38.954-41.943-39.002z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Fun with xpath on reddit" href="https://reddit.com/submit?url=https%3a%2f%2fgeowarin.com%2ffun-with-xpath%2f&title=Fun%20with%20xpath"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM446 265.638c0-22.964-18.616-41.58-41.58-41.58-11.211.0-21.361 4.457-28.841 11.666-28.424-20.508-67.586-33.757-111.204-35.278l18.941-89.121 61.884 13.157c.756 15.734 13.642 28.29 29.56 28.29 16.407.0 29.706-13.299 29.706-29.701.0-16.403-13.299-29.702-29.706-29.702-11.666.0-21.657 6.792-26.515 16.578l-69.105-14.69c-1.922-.418-3.939-.042-5.585 1.036-1.658 1.073-2.811 2.761-3.224 4.686l-21.152 99.438c-44.258 1.228-84.046 14.494-112.837 35.232-7.468-7.164-17.589-11.591-28.757-11.591-22.965.0-41.585 18.616-41.585 41.58.0 16.896 10.095 31.41 24.568 37.918-.639 4.135-.99 8.328-.99 12.576.0 63.977 74.469 115.836 166.33 115.836s166.334-51.859 166.334-115.836c0-4.218-.347-8.387-.977-12.493 14.564-6.47 24.735-21.034 24.735-38.001zM326.526 373.831c-20.27 20.241-59.115 21.816-70.534 21.816-11.428.0-50.277-1.575-70.522-21.82-3.007-3.008-3.007-7.882.0-10.889 3.003-2.999 7.882-3.003 10.885.0 12.777 12.781 40.11 17.317 59.637 17.317 19.522.0 46.86-4.536 59.657-17.321 3.016-2.999 7.886-2.995 10.885.008 3.008 3.011 3.003 7.882-.008 10.889zm-5.23-48.781c-16.373.0-29.701-13.324-29.701-29.698.0-16.381 13.328-29.714 29.701-29.714 16.378.0 29.706 13.333 29.706 29.714.0 16.374-13.328 29.698-29.706 29.698zM160.91 295.348c0-16.381 13.328-29.71 29.714-29.71 16.369.0 29.689 13.329 29.689 29.71.0 16.373-13.32 29.693-29.689 29.693-16.386.0-29.714-13.32-29.714-29.693z"/></svg></a></li></ul></footer><section class=comments><script>function loadComments(){const t=document.body.classList.contains("dark")?"photon-dark":"github-light";let e=document.createElement("script");e.src="https://utteranc.es/client.js",e.setAttribute("repo","geowarin/geowarin.github.io"),e.setAttribute("issue-term","title"),e.setAttribute("theme",t),e.setAttribute("crossorigin","anonymous"),e.setAttribute("async",""),document.querySelector("section.comments").innerHTML="",document.querySelector("section.comments").appendChild(e)}const mutationObserver=new MutationObserver(e=>{e.some(e=>e.attributeName==="class")&&loadComments()});mutationObserver.observe(document.body,{attributes:!0}),loadComments()</script></section></article></main><footer class=footer><span>&copy; 2024 <a href=https://geowarin.com/>Geowarin</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><div id=img-overlay style=display:none><button class=close>X</button><div class=overlay-content><img id=img-content><div id=img-caption></div></div></div><script>const figures=document.querySelectorAll("figure > img"),overlay=document.querySelector("#img-overlay");let currentIndex=0;function showOverlay(e){currentIndex=Math.min(Math.max(e,0),figures.length-1);const t=figures[currentIndex];overlay.style.display="flex",document.querySelector("#img-content").src=t.src;const n=t.parentNode.querySelector("figcaption");document.querySelector("#img-caption").innerHTML=n?n.textContent:""}figures.forEach((e,t)=>{e.style.cursor="pointer",e.addEventListener("click",()=>showOverlay(t))});function closeOverlay(){overlay.style.display="none"}document.addEventListener("keydown",e=>{e.key==="Escape"?closeOverlay():e.key==="ArrowRight"?showOverlay(++currentIndex):e.key==="ArrowLeft"&&showOverlay(--currentIndex)}),overlay.addEventListener("click",e=>{e.target===e.currentTarget&&closeOverlay()}),document.querySelector("#img-overlay .close").addEventListener("click",closeOverlay)</script><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>