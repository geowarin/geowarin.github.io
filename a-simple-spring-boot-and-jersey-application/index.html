<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>A simple Spring Boot and Jersey Application | Geowarin</title>
<meta name=keywords content="spring,spring-boot,jersey"><meta name=description content="How to setup a simple spring-boot and jersey application"><meta name=author content="Geoffroy Warin"><link rel=canonical href=https://geowarin.com/a-simple-spring-boot-and-jersey-application/><link crossorigin=anonymous href=/assets/css/stylesheet.2850b07a804e8f4a6030d06c768653db6dd84be866101c131b1891c2bcf2a978.css integrity="sha256-KFCweoBOj0pgMNBsdoZT223YS+hmEBwTGxiRwrzyqXg=" rel="preload stylesheet" as=style><link rel=icon href=https://geowarin.com/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://geowarin.com/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://geowarin.com/favicon-32x32.png><link rel=apple-touch-icon href=https://geowarin.com/apple-touch-icon.png><link rel=mask-icon href=https://geowarin.com/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://geowarin.com/a-simple-spring-boot-and-jersey-application/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:url" content="https://geowarin.com/a-simple-spring-boot-and-jersey-application/"><meta property="og:site_name" content="Geowarin"><meta property="og:title" content="A simple Spring Boot and Jersey Application"><meta property="og:description" content="How to setup a simple spring-boot and jersey application"><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="article:section" content="post"><meta property="article:published_time" content="2014-01-31T00:00:00+00:00"><meta property="article:modified_time" content="2014-01-31T00:00:00+00:00"><meta property="article:tag" content="Spring"><meta property="article:tag" content="Spring-Boot"><meta property="article:tag" content="Jersey"><meta name=twitter:card content="summary"><meta name=twitter:title content="A simple Spring Boot and Jersey Application"><meta name=twitter:description content="How to setup a simple spring-boot and jersey application"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://geowarin.com/post/"},{"@type":"ListItem","position":2,"name":"A simple Spring Boot and Jersey Application","item":"https://geowarin.com/a-simple-spring-boot-and-jersey-application/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"A simple Spring Boot and Jersey Application","name":"A simple Spring Boot and Jersey Application","description":"How to setup a simple spring-boot and jersey application","keywords":["spring","spring-boot","jersey"],"articleBody":"Spring boot RC1 is available.\nUpdate : RC3 released I updated the project.\nIt takes spring development and fast prototyping to a whole new level by taking care of all the dependencies for you, auto-detecting your configuration, providing an executable jar (great for deploying in the cloud), and much more.\nIn this post we’ll see how to integrate spring-boot with jersey, including testing of Jersey controllers with jersey-test.\nOf course, the source code is available on my github.\nSetting up spring-boot Spring boot aims towards simplicity and convention over configuration. First step is to include the necessary configuration in your pom.xml :\norg.springframework.boot spring-boot-starter-parent 1.0.0.RC3 org.springframework.boot spring-boot-starter-web spring-milestones Spring Milestones http://repo.spring.io/milestone false One of the good ideas of spring boot is to provide all the ‘boilerplate’ configuration for you by letting you inherit their parent configuration.\nThen, you’ll select a starter, in this case, we are going to develop a web application, so starter-web is fine.\nNow, we’ll create a main function for our application :\n@EnableAutoConfiguration public class Application { public static void main(String[] args) throws Exception { new SpringApplicationBuilder(Application.class) .showBanner(false) .run(args); } } We will just add an index.html file in the webapp directory and we should be ok. With this configuration, you can run the main function and you’ll see your index file.\nAwesome.\nRunnable jar Spring boot allows you to package your application as a runnable jar. Include the following in your pom.xml :\norg.springframework.boot spring-boot-maven-plugin spring-milestones http://repo.spring.io/milestone With this, when running mvn package, you will generate the runnable jar. Just java -jar it to launch an embedded Tomcat containing your webapp!\nIntegrating jersey Jersey has a spring support project jersey-spring-3. Despite what its name suggests, the project is (still?) compatible with spring 4.0 so we’ll use it.\nIt basically allows you to inject spring beans in your jersey controllers.\nTo complete our configuration we’ll add the jersey servlet to our application together with a small class to configure it.\nIn the Application :\n@Bean public ServletRegistrationBean jerseyServlet() { ServletRegistrationBean registration = new ServletRegistrationBean(new ServletContainer(), \"/rest/*\"); // our rest resources will be available in the path /rest/* registration.addInitParameter(ServletProperties.JAXRS_APPLICATION_CLASS, JerseyConfig.class.getName()); return registration; } We also need to add the @ComponentScan annotation to find our spring services and components (including jersey)\nNext, we’ll create the JerseyConfig class :\npublic class JerseyConfig extends ResourceConfig { public JerseyConfig() { register(RequestContextFilter.class); packages(\"com.geowarin.rest\"); register(LoggingFilter.class); } } Here we are providing the package(s) in which our rest resources are.\nSpeaking about our rest resources, we’ll create a simple one :\n@Path(\"/\") @Component public class RestResource { @GET @Produces(MediaType.APPLICATION_JSON) @Path(\"/hello\") public String hello() { return \"Hello World\"; } } There you have it : the dreadful hello world !\nIn the complete example, I show you how to generate JSON from a domain class.\nBasically all you have to do is provide classes with the @XmlRootElement annotation, add the getters and setters for the properties you want serialized and don’t forget to provide a default constructor (see here).\nTo show that dependency injection works, we’ll add a simple service :\n@Singleton @Service public class MessageService { List\u003cMessage\u003e messages = Collections.synchronizedList(new ArrayList\u003cMessage\u003e()); @PostConstruct public void init() { messages.add(new Message(\"Joe\", \"Hello\")); messages.add(new Message(\"Jane\", \"Spring boot is cool !\")); } public List\u003cMessage\u003e getMessages() { return messages; } } We can now autowire it to our Jersey controller!\n@Path(\"/\") @Component public class RestResource { @Autowired private MessageService messageService; @GET @Produces(MediaType.APPLICATION_JSON) @Path(\"/messages\") public List\u003cMessage\u003e message() { return messageService.getMessages(); } } Moxy will automatically convert the returned result to JSON.\nTesting Real programmers do tests. We want to test our controller right? There is a framework for that: jersey-test.\nThe Problem? it does not (yet) support annotated configuration.\nI’m providing a little hack of my own to override the SpringComponentProvider class of jersey-spring3 and allow this configuration. See the class on github. It is important to place it in the same package as the original one.\nUpdate : I submitted a pull request which has been accepted by Jersey. I updated the project to use the 2.6 snapshot release of jersey which includes the modified SpringComponentProvider.\nNow the test :\npublic class RestResourceTest extends JerseyTest { @Override protected Application configure() { ApplicationContext context = new AnnotationConfigApplicationContext(TestConfig.class); return new JerseyConfig() .property(\"contextConfig\", context); } @Test public void testHello() { final String hello = target(\"hello\").request().get(String.class); assertThat(hello).isEqualTo(\"Hello World\"); } @Test public void testMessages() throws JSONException { final String messages = target(\"messages\").request().get(String.class); String expected = \"[ \" + \"{ 'author': 'Joe', 'contents': 'Hello'},\" + \"{ 'author': 'Jane', 'contents': 'Spring boot is cool !'}\" + \"]\"; JSONAssert.assertEquals(expected, messages, JSONCompareMode.LENIENT); } } Jersey Test will automatically select a provider from your classpath, in the example I’m using the in memory provider which I believe to be the fastest but you can also use grizzly and others instead.\nI’m using JSONassert to test json results.\nIn the example, we are providing a simple, lighter TestConfig :\n@Configuration @ComponentScan(basePackageClasses = RestResource.class) public class TestConfig { } Conclusion Testing with Jersey Test is fast and intuitive.\nSpring boot is a nice addition to the spring ecosystem. Now that everything should be accessible from the cloud, so should be spring webapps !\n","wordCount":"873","inLanguage":"en","datePublished":"2014-01-31T00:00:00Z","dateModified":"2014-01-31T00:00:00Z","author":{"@type":"Person","name":"Geoffroy Warin"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://geowarin.com/a-simple-spring-boot-and-jersey-application/"},"publisher":{"@type":"Organization","name":"Geowarin","logo":{"@type":"ImageObject","url":"https://geowarin.com/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://geowarin.com/ accesskey=h title="Geowarin (Alt + H)">Geowarin</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://geowarin.com/archive/ title=Archive><span>Archive</span></a></li><li><a href=https://geowarin.com/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li><li><a href=https://geowarin.com/mastering-spring-mvc-4/ title=Book><span>Book</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://geowarin.com/>Home</a>&nbsp;»&nbsp;<a href=https://geowarin.com/post/>Posts</a></div><h1 class="post-title entry-hint-parent">A simple Spring Boot and Jersey Application</h1><div class=post-meta><span title='2014-01-31 00:00:00 +0000 UTC'>January 31, 2014</span>&nbsp;·&nbsp;5 min&nbsp;·&nbsp;Geoffroy Warin</div></header><div class=post-content><p>Spring boot RC1 <a href=https://spring.io/blog/2014/01/22/spring-boot-1-0-0-rc1-released>is available</a>.</p><p><em>Update</em> : <a href=https://spring.io/blog/2014/02/12/spring-boot-1-0-0-rc2-released>RC3 released</a> I updated the project.</p><p>It takes spring development and fast prototyping to a whole new level by taking care of all the dependencies for you, auto-detecting your configuration, providing an executable jar (great for deploying in the cloud), and much more.</p><p>In this post we&rsquo;ll see how to integrate spring-boot with jersey, including testing of Jersey controllers with <a href=https://jersey.java.net/documentation/latest/test-framework.html>jersey-test</a>.</p><p>Of course, the source code is available <a href=https://github.com/geowarin/springboot-jersey>on my github</a>.</p><h2 id=setting-up-spring-boot>Setting up spring-boot<a hidden class=anchor aria-hidden=true href=#setting-up-spring-boot>#</a></h2><p><a href=http://projects.spring.io/spring-boot/>Spring boot</a> aims towards simplicity and convention over configuration. First step is to include the necessary configuration in your pom.xml :</p><div class=highlight><pre tabindex=0 style=color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span><span style=color:#ff6ac1>&lt;parent&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#ff6ac1>&lt;groupId&gt;</span>org.springframework.boot<span style=color:#ff6ac1>&lt;/groupId&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#ff6ac1>&lt;artifactId&gt;</span>spring-boot-starter-parent<span style=color:#ff6ac1>&lt;/artifactId&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#ff6ac1>&lt;version&gt;</span>1.0.0.RC3<span style=color:#ff6ac1>&lt;/version&gt;</span>
</span></span><span style=display:flex><span><span style=color:#ff6ac1>&lt;/parent&gt;</span>
</span></span><span style=display:flex><span><span style=color:#ff6ac1>&lt;dependencies&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#ff6ac1>&lt;dependency&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#ff6ac1>&lt;groupId&gt;</span>org.springframework.boot<span style=color:#ff6ac1>&lt;/groupId&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#ff6ac1>&lt;artifactId&gt;</span>spring-boot-starter-web<span style=color:#ff6ac1>&lt;/artifactId&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#ff6ac1>&lt;/dependency&gt;</span>
</span></span><span style=display:flex><span><span style=color:#ff6ac1>&lt;/dependencies&gt;</span>
</span></span><span style=display:flex><span><span style=color:#ff6ac1>&lt;repositories&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#ff6ac1>&lt;repository&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#ff6ac1>&lt;id&gt;</span>spring-milestones<span style=color:#ff6ac1>&lt;/id&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#ff6ac1>&lt;name&gt;</span>Spring Milestones<span style=color:#ff6ac1>&lt;/name&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#ff6ac1>&lt;url&gt;</span>http://repo.spring.io/milestone<span style=color:#ff6ac1>&lt;/url&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#ff6ac1>&lt;snapshots&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#ff6ac1>&lt;enabled&gt;</span>false<span style=color:#ff6ac1>&lt;/enabled&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#ff6ac1>&lt;/snapshots&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#ff6ac1>&lt;/repository&gt;</span>
</span></span><span style=display:flex><span><span style=color:#ff6ac1>&lt;/repositories&gt;</span>
</span></span></code></pre></div><p>One of the good ideas of spring boot is to provide all the &lsquo;boilerplate&rsquo; configuration for you by letting you inherit their parent configuration.</p><p>Then, you&rsquo;ll select a starter, in this case, we are going to develop a web application, so starter-web is fine.</p><p>Now, we&rsquo;ll create a main function for our application :</p><div class=highlight><pre tabindex=0 style=color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#ff9f43>@EnableAutoConfiguration</span>
</span></span><span style=display:flex><span><span style=color:#ff5c57>public</span> <span style=color:#ff5c57>class</span> <span style=color:#f3f99d>Application</span> {
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#ff5c57>public</span> <span style=color:#ff5c57>static</span> <span style=color:#9aedfe>void</span> <span style=color:#57c7ff>main</span>(String<span style=color:#ff6ac1>[]</span> args) <span style=color:#ff5c57>throws</span> Exception {
</span></span><span style=display:flex><span>        <span style=color:#ff6ac1>new</span> SpringApplicationBuilder(Application.<span style=color:#57c7ff>class</span>)
</span></span><span style=display:flex><span>                .<span style=color:#57c7ff>showBanner</span>(<span style=color:#ff6ac1>false</span>)
</span></span><span style=display:flex><span>                .<span style=color:#57c7ff>run</span>(args);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>We will just add an index.html file in the webapp directory and we should be ok.
With this configuration, you can run the main function and you&rsquo;ll see your index file.</p><p>Awesome.</p><h2 id=runnable-jar>Runnable jar<a hidden class=anchor aria-hidden=true href=#runnable-jar>#</a></h2><p>Spring boot allows you to package your application as a runnable jar. Include the following in your <code>pom.xml</code> :</p><div class=highlight><pre tabindex=0 style=color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span><span style=color:#ff6ac1>&lt;build&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#ff6ac1>&lt;plugins&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#ff6ac1>&lt;plugin&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#ff6ac1>&lt;groupId&gt;</span>org.springframework.boot<span style=color:#ff6ac1>&lt;/groupId&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#ff6ac1>&lt;artifactId&gt;</span>spring-boot-maven-plugin<span style=color:#ff6ac1>&lt;/artifactId&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#ff6ac1>&lt;/plugin&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#ff6ac1>&lt;/plugins&gt;</span>
</span></span><span style=display:flex><span><span style=color:#ff6ac1>&lt;/build&gt;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#ff6ac1>&lt;pluginRepositories&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#ff6ac1>&lt;pluginRepository&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#ff6ac1>&lt;id&gt;</span>spring-milestones<span style=color:#ff6ac1>&lt;/id&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#ff6ac1>&lt;url&gt;</span>http://repo.spring.io/milestone<span style=color:#ff6ac1>&lt;/url&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#ff6ac1>&lt;/pluginRepository&gt;</span>
</span></span><span style=display:flex><span><span style=color:#ff6ac1>&lt;/pluginRepositories&gt;</span>
</span></span></code></pre></div><p>With this, when running <code>mvn package</code>, you will generate the runnable jar.
Just <code>java -jar</code> it to launch an embedded Tomcat containing your webapp!</p><h2 id=integrating-jersey>Integrating jersey<a hidden class=anchor aria-hidden=true href=#integrating-jersey>#</a></h2><p>Jersey has a spring support project <a href=https://jersey.java.net/documentation/latest/spring.html>jersey-spring-3</a>. Despite what its name suggests, the project is (still?) compatible with spring 4.0 so we&rsquo;ll use it.</p><p>It basically allows you to inject spring beans in your jersey controllers.</p><p>To complete our configuration we&rsquo;ll add the jersey servlet to our application together with a small class to configure it.</p><p>In the Application :</p><div class=highlight><pre tabindex=0 style=color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#ff9f43>@Bean</span>
</span></span><span style=display:flex><span><span style=color:#ff5c57>public</span> ServletRegistrationBean <span style=color:#57c7ff>jerseyServlet</span>() {
</span></span><span style=display:flex><span>    ServletRegistrationBean registration <span style=color:#ff6ac1>=</span> <span style=color:#ff6ac1>new</span> ServletRegistrationBean(<span style=color:#ff6ac1>new</span> ServletContainer(), <span style=color:#5af78e>&#34;/rest/*&#34;</span>);
</span></span><span style=display:flex><span>    <span style=color:#78787e>// our rest resources will be available in the path /rest/*</span>
</span></span><span style=display:flex><span>    registration.<span style=color:#57c7ff>addInitParameter</span>(ServletProperties.<span style=color:#57c7ff>JAXRS_APPLICATION_CLASS</span>, JerseyConfig.<span style=color:#57c7ff>class</span>.<span style=color:#57c7ff>getName</span>());
</span></span><span style=display:flex><span>    <span style=color:#ff6ac1>return</span> registration;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>We also need to add the <code>@ComponentScan</code> annotation to find our spring services and components (including jersey)</p><p>Next, we&rsquo;ll create the JerseyConfig class :</p><div class=highlight><pre tabindex=0 style=color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#ff5c57>public</span> <span style=color:#ff5c57>class</span> <span style=color:#f3f99d>JerseyConfig</span> <span style=color:#ff5c57>extends</span> ResourceConfig {
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#ff5c57>public</span> <span style=color:#57c7ff>JerseyConfig</span>() {
</span></span><span style=display:flex><span>        register(RequestContextFilter.<span style=color:#57c7ff>class</span>);
</span></span><span style=display:flex><span>        packages(<span style=color:#5af78e>&#34;com.geowarin.rest&#34;</span>);
</span></span><span style=display:flex><span>        register(LoggingFilter.<span style=color:#57c7ff>class</span>);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>Here we are providing the package(s) in which our rest resources are.</p><p>Speaking about our rest resources, we&rsquo;ll create a simple one :</p><div class=highlight><pre tabindex=0 style=color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#ff9f43>@Path</span>(<span style=color:#5af78e>&#34;/&#34;</span>)
</span></span><span style=display:flex><span><span style=color:#ff9f43>@Component</span>
</span></span><span style=display:flex><span><span style=color:#ff5c57>public</span> <span style=color:#ff5c57>class</span> <span style=color:#f3f99d>RestResource</span> {
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#ff9f43>@GET</span>
</span></span><span style=display:flex><span>    <span style=color:#ff9f43>@Produces</span>(MediaType.<span style=color:#57c7ff>APPLICATION_JSON</span>)
</span></span><span style=display:flex><span>    <span style=color:#ff9f43>@Path</span>(<span style=color:#5af78e>&#34;/hello&#34;</span>)
</span></span><span style=display:flex><span>    <span style=color:#ff5c57>public</span> String <span style=color:#57c7ff>hello</span>() {
</span></span><span style=display:flex><span>        <span style=color:#ff6ac1>return</span> <span style=color:#5af78e>&#34;Hello World&#34;</span>;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>There you have it : the dreadful hello world !</p><p>In the <a href=https://github.com/geowarin/springboot-jersey>complete example</a>, I show you how to generate JSON from a domain class.</p><p>Basically all you have to do is provide classes with the <code>@XmlRootElement</code> annotation, add the getters and setters for the properties you want serialized and don&rsquo;t forget to provide a default constructor (see <a href=https://github.com/geowarin/springboot-jersey/blob/master/src/main/java/com/geowarin/domain/Message.java>here</a>).</p><p>To show that dependency injection works, we&rsquo;ll add a simple service :</p><div class=highlight><pre tabindex=0 style=color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#ff9f43>@Singleton</span>
</span></span><span style=display:flex><span><span style=color:#ff9f43>@Service</span>
</span></span><span style=display:flex><span><span style=color:#ff5c57>public</span> <span style=color:#ff5c57>class</span> <span style=color:#f3f99d>MessageService</span> {
</span></span><span style=display:flex><span>    List<span style=color:#ff6ac1>&lt;</span>Message<span style=color:#ff6ac1>&gt;</span> messages <span style=color:#ff6ac1>=</span> Collections.<span style=color:#57c7ff>synchronizedList</span>(<span style=color:#ff6ac1>new</span> ArrayList<span style=color:#ff6ac1>&lt;</span>Message<span style=color:#ff6ac1>&gt;</span>());
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#ff9f43>@PostConstruct</span>
</span></span><span style=display:flex><span>    <span style=color:#ff5c57>public</span> <span style=color:#9aedfe>void</span> <span style=color:#57c7ff>init</span>() {
</span></span><span style=display:flex><span>        messages.<span style=color:#57c7ff>add</span>(<span style=color:#ff6ac1>new</span> Message(<span style=color:#5af78e>&#34;Joe&#34;</span>, <span style=color:#5af78e>&#34;Hello&#34;</span>));
</span></span><span style=display:flex><span>        messages.<span style=color:#57c7ff>add</span>(<span style=color:#ff6ac1>new</span> Message(<span style=color:#5af78e>&#34;Jane&#34;</span>, <span style=color:#5af78e>&#34;Spring boot is cool !&#34;</span>));
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#ff5c57>public</span> List<span style=color:#ff6ac1>&lt;</span>Message<span style=color:#ff6ac1>&gt;</span> <span style=color:#57c7ff>getMessages</span>() {
</span></span><span style=display:flex><span>        <span style=color:#ff6ac1>return</span> messages;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>We can now autowire it to our Jersey controller!</p><div class=highlight><pre tabindex=0 style=color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#ff9f43>@Path</span>(<span style=color:#5af78e>&#34;/&#34;</span>)
</span></span><span style=display:flex><span><span style=color:#ff9f43>@Component</span>
</span></span><span style=display:flex><span><span style=color:#ff5c57>public</span> <span style=color:#ff5c57>class</span> <span style=color:#f3f99d>RestResource</span> {
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#ff9f43>@Autowired</span>
</span></span><span style=display:flex><span>    <span style=color:#ff5c57>private</span> MessageService messageService;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#ff9f43>@GET</span>
</span></span><span style=display:flex><span>    <span style=color:#ff9f43>@Produces</span>(MediaType.<span style=color:#57c7ff>APPLICATION_JSON</span>)
</span></span><span style=display:flex><span>    <span style=color:#ff9f43>@Path</span>(<span style=color:#5af78e>&#34;/messages&#34;</span>)
</span></span><span style=display:flex><span>    <span style=color:#ff5c57>public</span> List<span style=color:#ff6ac1>&lt;</span>Message<span style=color:#ff6ac1>&gt;</span> <span style=color:#57c7ff>message</span>() {
</span></span><span style=display:flex><span>        <span style=color:#ff6ac1>return</span> messageService.<span style=color:#57c7ff>getMessages</span>();
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p><a href=http://www.eclipse.org/eclipselink/moxy.php>Moxy</a> will automatically convert
the returned result to JSON.</p><h2 id=testing>Testing<a hidden class=anchor aria-hidden=true href=#testing>#</a></h2><p>Real programmers do tests. We want to test our controller right? There is a framework for that: <a href=https://jersey.java.net/documentation/latest/test-framework.html>jersey-test</a>.</p><p><em>The Problem?</em> it does not (yet) support annotated configuration.</p><p><del>I&rsquo;m providing a little hack of my own to override the <code>SpringComponentProvider</code> class of <em>jersey-spring3</em> and allow this configuration. See the class on github. It is important to place it in the same package as the original one.</del></p><p><em>Update</em> : I submitted a <a href=https://github.com/jersey/jersey/pull/59>pull request</a> which has been accepted by Jersey. I updated the project to use the 2.6 snapshot release of jersey which includes the modified <code>SpringComponentProvider</code>.</p><p>Now the test :</p><div class=highlight><pre tabindex=0 style=color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#ff5c57>public</span> <span style=color:#ff5c57>class</span> <span style=color:#f3f99d>RestResourceTest</span> <span style=color:#ff5c57>extends</span> JerseyTest {
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#ff9f43>@Override</span>
</span></span><span style=display:flex><span>    <span style=color:#ff5c57>protected</span> Application <span style=color:#57c7ff>configure</span>() {
</span></span><span style=display:flex><span>        ApplicationContext context <span style=color:#ff6ac1>=</span> <span style=color:#ff6ac1>new</span> AnnotationConfigApplicationContext(TestConfig.<span style=color:#57c7ff>class</span>);
</span></span><span style=display:flex><span>        <span style=color:#ff6ac1>return</span> <span style=color:#ff6ac1>new</span> JerseyConfig()
</span></span><span style=display:flex><span>                .<span style=color:#57c7ff>property</span>(<span style=color:#5af78e>&#34;contextConfig&#34;</span>, context);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#ff9f43>@Test</span>
</span></span><span style=display:flex><span>    <span style=color:#ff5c57>public</span> <span style=color:#9aedfe>void</span> <span style=color:#57c7ff>testHello</span>() {
</span></span><span style=display:flex><span>        <span style=color:#ff5c57>final</span> String hello <span style=color:#ff6ac1>=</span> target(<span style=color:#5af78e>&#34;hello&#34;</span>).<span style=color:#57c7ff>request</span>().<span style=color:#57c7ff>get</span>(String.<span style=color:#57c7ff>class</span>);
</span></span><span style=display:flex><span>        assertThat(hello).<span style=color:#57c7ff>isEqualTo</span>(<span style=color:#5af78e>&#34;Hello World&#34;</span>);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#ff9f43>@Test</span>
</span></span><span style=display:flex><span>    <span style=color:#ff5c57>public</span> <span style=color:#9aedfe>void</span> <span style=color:#57c7ff>testMessages</span>() <span style=color:#ff5c57>throws</span> JSONException {
</span></span><span style=display:flex><span>        <span style=color:#ff5c57>final</span> String messages <span style=color:#ff6ac1>=</span> target(<span style=color:#5af78e>&#34;messages&#34;</span>).<span style=color:#57c7ff>request</span>().<span style=color:#57c7ff>get</span>(String.<span style=color:#57c7ff>class</span>);
</span></span><span style=display:flex><span>        String expected <span style=color:#ff6ac1>=</span> <span style=color:#5af78e>&#34;[ &#34;</span> <span style=color:#ff6ac1>+</span>
</span></span><span style=display:flex><span>                <span style=color:#5af78e>&#34;{ &#39;author&#39;: &#39;Joe&#39;, &#39;contents&#39;: &#39;Hello&#39;},&#34;</span> <span style=color:#ff6ac1>+</span>
</span></span><span style=display:flex><span>                <span style=color:#5af78e>&#34;{ &#39;author&#39;: &#39;Jane&#39;, &#39;contents&#39;: &#39;Spring boot is cool !&#39;}&#34;</span> <span style=color:#ff6ac1>+</span>
</span></span><span style=display:flex><span>                <span style=color:#5af78e>&#34;]&#34;</span>;
</span></span><span style=display:flex><span>        JSONAssert.<span style=color:#57c7ff>assertEquals</span>(expected, messages, JSONCompareMode.<span style=color:#57c7ff>LENIENT</span>);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>Jersey Test will automatically select a provider from your classpath, in the example I&rsquo;m using the in memory provider which I believe to be the fastest but you can also use <a href=https://grizzly.java.net/>grizzly</a> and others instead.</p><p>I&rsquo;m using <a href=https://github.com/skyscreamer/JSONassert>JSONassert</a> to test json results.</p><p>In the example, we are providing a simple, lighter <code>TestConfig</code> :</p><div class=highlight><pre tabindex=0 style=color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#ff9f43>@Configuration</span>
</span></span><span style=display:flex><span><span style=color:#ff9f43>@ComponentScan</span>(basePackageClasses <span style=color:#ff6ac1>=</span> RestResource.<span style=color:#57c7ff>class</span>)
</span></span><span style=display:flex><span><span style=color:#ff5c57>public</span> <span style=color:#ff5c57>class</span> <span style=color:#f3f99d>TestConfig</span> {
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h2 id=conclusion>Conclusion<a hidden class=anchor aria-hidden=true href=#conclusion>#</a></h2><p>Testing with Jersey Test is fast and intuitive.</p><p>Spring boot is a nice addition to the spring ecosystem. Now that everything should be accessible from the cloud, so should be spring webapps !</p></div><footer class=post-footer><ul class=post-tags><li><a href=https://geowarin.com/tags/spring/>Spring</a></li><li><a href=https://geowarin.com/tags/spring-boot/>Spring-Boot</a></li><li><a href=https://geowarin.com/tags/jersey/>Jersey</a></li></ul><nav class=paginav><a class=prev href=https://geowarin.com/review-of-learning-spring-boot/><span class=title>« Prev</span><br><span>Review of Learning Spring Boot</span>
</a><a class=next href=https://geowarin.com/fun-with-xpath/><span class=title>Next »</span><br><span>Fun with xpath</span></a></nav><ul class=share-buttons><li><a target=_blank rel="noopener noreferrer" aria-label="share A simple Spring Boot and Jersey Application on x" href="https://x.com/intent/tweet/?text=A%20simple%20Spring%20Boot%20and%20Jersey%20Application&amp;url=https%3a%2f%2fgeowarin.com%2fa-simple-spring-boot-and-jersey-application%2f&amp;hashtags=spring%2cspring-boot%2cjersey"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M512 62.554V449.446C512 483.97 483.97 512 449.446 512H62.554C28.03 512 0 483.97.0 449.446V62.554C0 28.03 28.029.0 62.554.0H449.446C483.971.0 512 28.03 512 62.554zM269.951 190.75 182.567 75.216H56L207.216 272.95 63.9 436.783h61.366L235.9 310.383l96.667 126.4H456L298.367 228.367l134-153.151H371.033zM127.633 110h36.468l219.38 290.065H349.5z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share A simple Spring Boot and Jersey Application on linkedin" href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3a%2f%2fgeowarin.com%2fa-simple-spring-boot-and-jersey-application%2f&amp;title=A%20simple%20Spring%20Boot%20and%20Jersey%20Application&amp;summary=A%20simple%20Spring%20Boot%20and%20Jersey%20Application&amp;source=https%3a%2f%2fgeowarin.com%2fa-simple-spring-boot-and-jersey-application%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM160.461 423.278V197.561h-75.04v225.717h75.04zm270.539.0V293.839c0-69.333-37.018-101.586-86.381-101.586-39.804.0-57.634 21.891-67.617 37.266v-31.958h-75.021c.995 21.181.0 225.717.0 225.717h75.02V297.222c0-6.748.486-13.492 2.474-18.315 5.414-13.475 17.767-27.434 38.494-27.434 27.135.0 38.007 20.707 38.007 51.037v120.768H431zM123.448 88.722C97.774 88.722 81 105.601 81 127.724c0 21.658 16.264 39.002 41.455 39.002h.484c26.165.0 42.452-17.344 42.452-39.002-.485-22.092-16.241-38.954-41.943-39.002z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share A simple Spring Boot and Jersey Application on reddit" href="https://reddit.com/submit?url=https%3a%2f%2fgeowarin.com%2fa-simple-spring-boot-and-jersey-application%2f&title=A%20simple%20Spring%20Boot%20and%20Jersey%20Application"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM446 265.638c0-22.964-18.616-41.58-41.58-41.58-11.211.0-21.361 4.457-28.841 11.666-28.424-20.508-67.586-33.757-111.204-35.278l18.941-89.121 61.884 13.157c.756 15.734 13.642 28.29 29.56 28.29 16.407.0 29.706-13.299 29.706-29.701.0-16.403-13.299-29.702-29.706-29.702-11.666.0-21.657 6.792-26.515 16.578l-69.105-14.69c-1.922-.418-3.939-.042-5.585 1.036-1.658 1.073-2.811 2.761-3.224 4.686l-21.152 99.438c-44.258 1.228-84.046 14.494-112.837 35.232-7.468-7.164-17.589-11.591-28.757-11.591-22.965.0-41.585 18.616-41.585 41.58.0 16.896 10.095 31.41 24.568 37.918-.639 4.135-.99 8.328-.99 12.576.0 63.977 74.469 115.836 166.33 115.836s166.334-51.859 166.334-115.836c0-4.218-.347-8.387-.977-12.493 14.564-6.47 24.735-21.034 24.735-38.001zM326.526 373.831c-20.27 20.241-59.115 21.816-70.534 21.816-11.428.0-50.277-1.575-70.522-21.82-3.007-3.008-3.007-7.882.0-10.889 3.003-2.999 7.882-3.003 10.885.0 12.777 12.781 40.11 17.317 59.637 17.317 19.522.0 46.86-4.536 59.657-17.321 3.016-2.999 7.886-2.995 10.885.008 3.008 3.011 3.003 7.882-.008 10.889zm-5.23-48.781c-16.373.0-29.701-13.324-29.701-29.698.0-16.381 13.328-29.714 29.701-29.714 16.378.0 29.706 13.333 29.706 29.714.0 16.374-13.328 29.698-29.706 29.698zM160.91 295.348c0-16.381 13.328-29.71 29.714-29.71 16.369.0 29.689 13.329 29.689 29.71.0 16.373-13.32 29.693-29.689 29.693-16.386.0-29.714-13.32-29.714-29.693z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share A simple Spring Boot and Jersey Application on facebook" href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2fgeowarin.com%2fa-simple-spring-boot-and-jersey-application%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H342.978V319.085h66.6l12.672-82.621h-79.272v-53.617c0-22.603 11.073-44.636 46.58-44.636H425.6v-70.34s-32.71-5.582-63.982-5.582c-65.288.0-107.96 39.569-107.96 111.204v62.971h-72.573v82.621h72.573V512h-191.104c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share A simple Spring Boot and Jersey Application on whatsapp" href="https://api.whatsapp.com/send?text=A%20simple%20Spring%20Boot%20and%20Jersey%20Application%20-%20https%3a%2f%2fgeowarin.com%2fa-simple-spring-boot-and-jersey-application%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zm-58.673 127.703c-33.842-33.881-78.847-52.548-126.798-52.568-98.799.0-179.21 80.405-179.249 179.234-.013 31.593 8.241 62.428 23.927 89.612l-25.429 92.884 95.021-24.925c26.181 14.28 55.659 21.807 85.658 21.816h.074c98.789.0 179.206-80.413 179.247-179.243.018-47.895-18.61-92.93-52.451-126.81zM263.976 403.485h-.06c-26.734-.01-52.954-7.193-75.828-20.767l-5.441-3.229-56.386 14.792 15.05-54.977-3.542-5.637c-14.913-23.72-22.791-51.136-22.779-79.287.033-82.142 66.867-148.971 149.046-148.971 39.793.014 77.199 15.531 105.329 43.692 28.128 28.16 43.609 65.592 43.594 105.4-.034 82.149-66.866 148.983-148.983 148.984zm81.721-111.581c-4.479-2.242-26.499-13.075-30.604-14.571-4.105-1.495-7.091-2.241-10.077 2.241-2.986 4.483-11.569 14.572-14.182 17.562-2.612 2.988-5.225 3.364-9.703 1.12-4.479-2.241-18.91-6.97-36.017-22.23C231.8 264.15 222.81 249.484 220.198 245s-.279-6.908 1.963-9.14c2.016-2.007 4.48-5.232 6.719-7.847 2.24-2.615 2.986-4.484 4.479-7.472 1.493-2.99.747-5.604-.374-7.846-1.119-2.241-10.077-24.288-13.809-33.256-3.635-8.733-7.327-7.55-10.077-7.688-2.609-.13-5.598-.158-8.583-.158-2.986.0-7.839 1.121-11.944 5.604-4.105 4.484-15.675 15.32-15.675 37.364.0 22.046 16.048 43.342 18.287 46.332 2.24 2.99 31.582 48.227 76.511 67.627 10.685 4.615 19.028 7.371 25.533 9.434 10.728 3.41 20.492 2.929 28.209 1.775 8.605-1.285 26.499-10.833 30.231-21.295 3.732-10.464 3.732-19.431 2.612-21.298-1.119-1.869-4.105-2.99-8.583-5.232z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share A simple Spring Boot and Jersey Application on telegram" href="https://telegram.me/share/url?text=A%20simple%20Spring%20Boot%20and%20Jersey%20Application&amp;url=https%3a%2f%2fgeowarin.com%2fa-simple-spring-boot-and-jersey-application%2f"><svg viewBox="2 2 28 28" height="30" width="30" fill="currentcolor"><path d="M26.49 29.86H5.5a3.37 3.37.0 01-2.47-1 3.35 3.35.0 01-1-2.47V5.48A3.36 3.36.0 013 3 3.37 3.37.0 015.5 2h21A3.38 3.38.0 0129 3a3.36 3.36.0 011 2.46V26.37a3.35 3.35.0 01-1 2.47 3.38 3.38.0 01-2.51 1.02zm-5.38-6.71a.79.79.0 00.85-.66L24.73 9.24a.55.55.0 00-.18-.46.62.62.0 00-.41-.17q-.08.0-16.53 6.11a.59.59.0 00-.41.59.57.57.0 00.43.52l4 1.24 1.61 4.83a.62.62.0 00.63.43.56.56.0 00.4-.17L16.54 20l4.09 3A.9.9.0 0021.11 23.15zM13.8 20.71l-1.21-4q8.72-5.55 8.78-5.55c.15.0.23.0.23.16a.18.18.0 010 .06s-2.51 2.3-7.52 6.8z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share A simple Spring Boot and Jersey Application on ycombinator" href="https://news.ycombinator.com/submitlink?t=A%20simple%20Spring%20Boot%20and%20Jersey%20Application&u=https%3a%2f%2fgeowarin.com%2fa-simple-spring-boot-and-jersey-application%2f"><svg width="30" height="30" viewBox="0 0 512 512" fill="currentcolor" xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"><path d="M449.446.0C483.971.0 512 28.03 512 62.554V449.446C512 483.97 483.97 512 449.446 512H62.554C28.03 512 0 483.97.0 449.446V62.554C0 28.03 28.029.0 62.554.0H449.446zM183.8767 87.9921h-62.034L230.6673 292.4508V424.0079h50.6655V292.4508L390.1575 87.9921H328.1233L256 238.2489z"/></svg></a></li></ul></footer><section class=comments><script>function loadComments(){const t=document.body.classList.contains("dark")?"photon-dark":"github-light";let e=document.createElement("script");e.src="https://utteranc.es/client.js",e.setAttribute("repo","geowarin/geowarin.github.io"),e.setAttribute("issue-term","title"),e.setAttribute("theme",t),e.setAttribute("crossorigin","anonymous"),e.setAttribute("async",""),document.querySelector("section.comments").innerHTML="",document.querySelector("section.comments").appendChild(e)}const mutationObserver=new MutationObserver(e=>{e.some(e=>e.attributeName==="class")&&loadComments()});mutationObserver.observe(document.body,{attributes:!0}),loadComments()</script></section></article></main><footer class=footer><span>&copy; 2024 <a href=https://geowarin.com/>Geowarin</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><div id=img-overlay style=display:none><button class=close>X</button><div class=overlay-content><img id=img-content><div id=img-caption></div></div></div><script>const figures=document.querySelectorAll("figure > img"),overlay=document.querySelector("#img-overlay");let currentIndex=0;function showOverlay(e){currentIndex=Math.min(Math.max(e,0),figures.length-1);const t=figures[currentIndex];overlay.style.display="flex",document.querySelector("#img-content").src=t.src;const n=t.parentNode.querySelector("figcaption");document.querySelector("#img-caption").innerHTML=n?n.textContent:""}figures.forEach((e,t)=>{e.style.cursor="pointer",e.addEventListener("click",()=>showOverlay(t))});function closeOverlay(){overlay.style.display="none"}document.addEventListener("keydown",e=>{e.key==="Escape"?closeOverlay():e.key==="ArrowRight"?showOverlay(++currentIndex):e.key==="ArrowLeft"&&showOverlay(--currentIndex)}),overlay.addEventListener("click",e=>{e.target===e.currentTarget&&closeOverlay()}),document.querySelector("#img-overlay .close").addEventListener("click",closeOverlay)</script><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>