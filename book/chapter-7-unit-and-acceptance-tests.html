<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Chapter 7 - Leaving nothing to luck with unit and acceptance tests | Geowarin</title>
<meta name=keywords content="book,spring mvc"><meta name=description content="In this chapter we will learn how to test our application with spring test and fluentlenium as well as with geb and spock."><meta name=author content="Geoffroy Warin"><link rel=canonical href=https://geowarin.com/book/chapter-7-unit-and-acceptance-tests.html><link crossorigin=anonymous href=/assets/css/stylesheet.2850b07a804e8f4a6030d06c768653db6dd84be866101c131b1891c2bcf2a978.css integrity="sha256-KFCweoBOj0pgMNBsdoZT223YS+hmEBwTGxiRwrzyqXg=" rel="preload stylesheet" as=style><link rel=icon href=https://geowarin.com/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://geowarin.com/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://geowarin.com/favicon-32x32.png><link rel=apple-touch-icon href=https://geowarin.com/apple-touch-icon.png><link rel=mask-icon href=https://geowarin.com/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://geowarin.com/book/chapter-7-unit-and-acceptance-tests.html><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:url" content="https://geowarin.com/book/chapter-7-unit-and-acceptance-tests.html"><meta property="og:site_name" content="Geowarin"><meta property="og:title" content="Chapter 7 - Leaving nothing to luck with unit and acceptance tests"><meta property="og:description" content="In this chapter we will learn how to test our application with spring test and fluentlenium as well as with geb and spock."><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="article:section" content="page"><meta property="article:published_time" content="2015-06-13T00:00:00+00:00"><meta property="article:modified_time" content="2015-06-13T00:00:00+00:00"><meta property="article:tag" content="Book"><meta property="article:tag" content="Spring-Mvc"><meta name=twitter:card content="summary"><meta name=twitter:title content="Chapter 7 - Leaving nothing to luck with unit and acceptance tests"><meta name=twitter:description content="In this chapter we will learn how to test our application with spring test and fluentlenium as well as with geb and spock."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Mastering spring MVC 4","item":"https://geowarin.com/mastering-spring-mvc-4/"},{"@type":"ListItem","position":2,"name":"Chapter 7 - Leaving nothing to luck with unit and acceptance tests","item":"https://geowarin.com/book/chapter-7-unit-and-acceptance-tests.html"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Chapter 7 - Leaving nothing to luck with unit and acceptance tests","name":"Chapter 7 - Leaving nothing to luck with unit and acceptance tests","description":"In this chapter we will learn how to test our application with spring test and fluentlenium as well as with geb and spock.","keywords":["book","spring mvc"],"articleBody":"In this chapter, we will make sure our application never regresses thanks to a handful of unit tests.\nTo test or not to test? Chapter 5 is by far my favorite chapter of Mastering Spring MVC 4!\nIn this uplifting piece of literature, you will learn more about testing best practices: TDD, the pyramid of tests, unit tests and end-to-end tests.\nWe will see the difference behind mocking and stubbing and use mockito and the power of Spring’s IOC to study both options.\nWith spring-mvc-test we will create unit test for our web controllers as well as our REST controllers.\nAcceptance tests Using fluentlenium, we will create simple yet powerful end-to-end tests leveraging Selenium.\nI will tell you what the Page Object pattern is and how to use it with fluentlenium.\nYou will see how to configure Gradle to create a task for our acceptance tests and generate reports for this task.\nMaking it groovy At the end of the chapter I will show you how to make your tests even better and more readable with Spock.\nThen we will use Geb, a wonderful library used by the grails community to design acceptance tests on top of WebDriver.\nI hope you will find the content of this chapter interesting, let me know your thoughts in the comments!\n","wordCount":"217","inLanguage":"en","datePublished":"2015-06-13T00:00:00Z","dateModified":"2015-06-13T00:00:00Z","author":{"@type":"Person","name":"Geoffroy Warin"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://geowarin.com/book/chapter-7-unit-and-acceptance-tests.html"},"publisher":{"@type":"Organization","name":"Geowarin","logo":{"@type":"ImageObject","url":"https://geowarin.com/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://geowarin.com/ accesskey=h title="Geowarin (Alt + H)">Geowarin</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://geowarin.com/archive/ title=Archive><span>Archive</span></a></li><li><a href=https://geowarin.com/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li><li><a href=https://geowarin.com/mastering-spring-mvc-4/ title=Book><span>Book</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://geowarin.com/>Home</a>&nbsp;»&nbsp;<a href=https://geowarin.com/mastering-spring-mvc-4/>Mastering spring MVC 4</a></div><h1 class="post-title entry-hint-parent">Chapter 7 - Leaving nothing to luck with unit and acceptance tests</h1><div class=post-description>In this chapter we will learn how to test our application with spring test and fluentlenium as well as with geb and spock.</div><div class=post-meta><span title='2015-06-13 00:00:00 +0000 UTC'>June 13, 2015</span>&nbsp;·&nbsp;2 min&nbsp;·&nbsp;Geoffroy Warin</div></header><div class=post-content><p>In this chapter, we will make sure our application never regresses thanks to a
handful of unit tests.</p><h2 id=to-test-or-not-to-test>To test or not to test?<a hidden class=anchor aria-hidden=true href=#to-test-or-not-to-test>#</a></h2><p>Chapter 5 is by far my favorite chapter of <a href=/mastering-spring-mvc4.html>Mastering Spring MVC 4</a>!</p><p>In this uplifting piece of literature, you will learn more about testing best
practices: TDD, the pyramid of tests, unit tests and end-to-end tests.</p><p><img alt=RedGreen loading=lazy src=/assets/images/book/chap5-1.png title="Red green refactor"></p><p>We will see the difference behind mocking and stubbing and use mockito and
the power of Spring&rsquo;s IOC to study both options.</p><p>With <code>spring-mvc-test</code> we will create unit test for our web controllers as well
as our REST controllers.</p><h2 id=acceptance-tests>Acceptance tests<a hidden class=anchor aria-hidden=true href=#acceptance-tests>#</a></h2><p>Using <a href=https://github.com/FluentLenium/FluentLenium>fluentlenium</a>, we will create
simple yet powerful end-to-end tests leveraging Selenium.</p><p>I will tell you what the Page Object pattern is and how to use it with fluentlenium.</p><p>You will see how to configure Gradle to create a task for our acceptance tests
and generate reports for this task.</p><h2 id=making-it-groovy>Making it groovy<a hidden class=anchor aria-hidden=true href=#making-it-groovy>#</a></h2><p>At the end of the chapter I will show you how to make your tests even better and
more readable with <a href=https://github.com/spockframework/spock>Spock</a>.</p><p>Then we will use <a href=http://www.gebish.org/>Geb</a>, a wonderful library used by the grails
community to design acceptance tests on top of WebDriver.</p><p>I hope you will find the content of this chapter interesting, let me know your thoughts in the comments!</p></div><footer class=post-footer><ul class=post-tags><li><a href=https://geowarin.com/tags/book/>Book</a></li><li><a href=https://geowarin.com/tags/spring-mvc/>Spring-Mvc</a></li></ul><ul class=share-buttons><li><a target=_blank rel="noopener noreferrer" aria-label="share Chapter 7 - Leaving nothing to luck with unit and acceptance tests on x" href="https://x.com/intent/tweet/?text=Chapter%207%20-%20Leaving%20nothing%20to%20luck%20with%20unit%20and%20acceptance%20tests&amp;url=https%3a%2f%2fgeowarin.com%2fbook%2fchapter-7-unit-and-acceptance-tests.html&amp;hashtags=book%2cspringmvc"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M512 62.554V449.446C512 483.97 483.97 512 449.446 512H62.554C28.03 512 0 483.97.0 449.446V62.554C0 28.03 28.029.0 62.554.0H449.446C483.971.0 512 28.03 512 62.554zM269.951 190.75 182.567 75.216H56L207.216 272.95 63.9 436.783h61.366L235.9 310.383l96.667 126.4H456L298.367 228.367l134-153.151H371.033zM127.633 110h36.468l219.38 290.065H349.5z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Chapter 7 - Leaving nothing to luck with unit and acceptance tests on linkedin" href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3a%2f%2fgeowarin.com%2fbook%2fchapter-7-unit-and-acceptance-tests.html&amp;title=Chapter%207%20-%20Leaving%20nothing%20to%20luck%20with%20unit%20and%20acceptance%20tests&amp;summary=Chapter%207%20-%20Leaving%20nothing%20to%20luck%20with%20unit%20and%20acceptance%20tests&amp;source=https%3a%2f%2fgeowarin.com%2fbook%2fchapter-7-unit-and-acceptance-tests.html"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM160.461 423.278V197.561h-75.04v225.717h75.04zm270.539.0V293.839c0-69.333-37.018-101.586-86.381-101.586-39.804.0-57.634 21.891-67.617 37.266v-31.958h-75.021c.995 21.181.0 225.717.0 225.717h75.02V297.222c0-6.748.486-13.492 2.474-18.315 5.414-13.475 17.767-27.434 38.494-27.434 27.135.0 38.007 20.707 38.007 51.037v120.768H431zM123.448 88.722C97.774 88.722 81 105.601 81 127.724c0 21.658 16.264 39.002 41.455 39.002h.484c26.165.0 42.452-17.344 42.452-39.002-.485-22.092-16.241-38.954-41.943-39.002z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Chapter 7 - Leaving nothing to luck with unit and acceptance tests on reddit" href="https://reddit.com/submit?url=https%3a%2f%2fgeowarin.com%2fbook%2fchapter-7-unit-and-acceptance-tests.html&title=Chapter%207%20-%20Leaving%20nothing%20to%20luck%20with%20unit%20and%20acceptance%20tests"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM446 265.638c0-22.964-18.616-41.58-41.58-41.58-11.211.0-21.361 4.457-28.841 11.666-28.424-20.508-67.586-33.757-111.204-35.278l18.941-89.121 61.884 13.157c.756 15.734 13.642 28.29 29.56 28.29 16.407.0 29.706-13.299 29.706-29.701.0-16.403-13.299-29.702-29.706-29.702-11.666.0-21.657 6.792-26.515 16.578l-69.105-14.69c-1.922-.418-3.939-.042-5.585 1.036-1.658 1.073-2.811 2.761-3.224 4.686l-21.152 99.438c-44.258 1.228-84.046 14.494-112.837 35.232-7.468-7.164-17.589-11.591-28.757-11.591-22.965.0-41.585 18.616-41.585 41.58.0 16.896 10.095 31.41 24.568 37.918-.639 4.135-.99 8.328-.99 12.576.0 63.977 74.469 115.836 166.33 115.836s166.334-51.859 166.334-115.836c0-4.218-.347-8.387-.977-12.493 14.564-6.47 24.735-21.034 24.735-38.001zM326.526 373.831c-20.27 20.241-59.115 21.816-70.534 21.816-11.428.0-50.277-1.575-70.522-21.82-3.007-3.008-3.007-7.882.0-10.889 3.003-2.999 7.882-3.003 10.885.0 12.777 12.781 40.11 17.317 59.637 17.317 19.522.0 46.86-4.536 59.657-17.321 3.016-2.999 7.886-2.995 10.885.008 3.008 3.011 3.003 7.882-.008 10.889zm-5.23-48.781c-16.373.0-29.701-13.324-29.701-29.698.0-16.381 13.328-29.714 29.701-29.714 16.378.0 29.706 13.333 29.706 29.714.0 16.374-13.328 29.698-29.706 29.698zM160.91 295.348c0-16.381 13.328-29.71 29.714-29.71 16.369.0 29.689 13.329 29.689 29.71.0 16.373-13.32 29.693-29.689 29.693-16.386.0-29.714-13.32-29.714-29.693z"/></svg></a></li></ul></footer><section class=comments><script>function loadComments(){const t=document.body.classList.contains("dark")?"photon-dark":"github-light";let e=document.createElement("script");e.src="https://utteranc.es/client.js",e.setAttribute("repo","geowarin/geowarin.github.io"),e.setAttribute("issue-term","title"),e.setAttribute("theme",t),e.setAttribute("crossorigin","anonymous"),e.setAttribute("async",""),document.querySelector("section.comments").innerHTML="",document.querySelector("section.comments").appendChild(e)}const mutationObserver=new MutationObserver(e=>{e.some(e=>e.attributeName==="class")&&loadComments()});mutationObserver.observe(document.body,{attributes:!0}),loadComments()</script></section></article></main><footer class=footer><span>&copy; 2024 <a href=https://geowarin.com/>Geowarin</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><div id=img-overlay style=display:none><button class=close>X</button><div class=overlay-content><img id=img-content><div id=img-caption></div></div></div><script>const figures=document.querySelectorAll("figure > img"),overlay=document.querySelector("#img-overlay");let currentIndex=0;function showOverlay(e){currentIndex=Math.min(Math.max(e,0),figures.length-1);const t=figures[currentIndex];overlay.style.display="flex",document.querySelector("#img-content").src=t.src;const n=t.parentNode.querySelector("figcaption");document.querySelector("#img-caption").innerHTML=n?n.textContent:""}figures.forEach((e,t)=>{e.style.cursor="pointer",e.addEventListener("click",()=>showOverlay(t))});function closeOverlay(){overlay.style.display="none"}document.addEventListener("keydown",e=>{e.key==="Escape"?closeOverlay():e.key==="ArrowRight"?showOverlay(++currentIndex):e.key==="ArrowLeft"&&showOverlay(--currentIndex)}),overlay.addEventListener("click",e=>{e.target===e.currentTarget&&closeOverlay()}),document.querySelector("#img-overlay .close").addEventListener("click",closeOverlay)</script><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>