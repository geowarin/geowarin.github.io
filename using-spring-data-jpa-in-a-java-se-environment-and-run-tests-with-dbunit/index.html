<!doctype html><html lang=en dir=auto>
<head><meta charset=utf-8>
<meta http-equiv=x-ua-compatible content="IE=edge">
<meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no">
<meta name=robots content="index, follow">
<title>Using Spring Data JPA in a Java SE environment and run tests with dbUnit | Geowarin</title>
<meta name=keywords content="hibernate,java SE,spring,spring-data,spring-java-config,spring-test">
<meta name=description content="Demonstration of how to set up spring data JPA in java SE and test with dbUnit">
<meta name=author content>
<link rel=canonical href=https://geowarin.com/using-spring-data-jpa-in-a-java-se-environment-and-run-tests-with-dbunit/>
<link crossorigin=anonymous href=/assets/css/stylesheet.min.6f60056d44d3f7eb69a4bc6c332b59960f3a995802bded244750232f33713c49.css integrity="sha256-b2AFbUTT9+tppLxsMytZlg86mVgCve0kR1AjLzNxPEk=" rel="preload stylesheet" as=style>
<script defer crossorigin=anonymous src=/assets/js/highlight.min.7680afc38aa6b15ddf158a4f3780b7b1f7dde7e91d26f073e6229bb7a0793c92.js integrity="sha256-doCvw4qmsV3fFYpPN4C3sffd5+kdJvBz5iKbt6B5PJI=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://geowarin.com/favicon.ico>
<link rel=icon type=image/png sizes=16x16 href=https://geowarin.com/favicon-16x16.png>
<link rel=icon type=image/png sizes=32x32 href=https://geowarin.com/favicon-32x32.png>
<link rel=apple-touch-icon href=https://geowarin.com/apple-touch-icon.png>
<link rel=mask-icon href=https://geowarin.com/safari-pinned-tab.svg>
<meta name=theme-color content="#2e2e33">
<meta name=msapplication-TileColor content="#2e2e33">
<meta name=generator content="Hugo 0.89.2">
<noscript>
<style>#theme-toggle,.top-link{display:none}</style>
<style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style>
</noscript><meta property="og:title" content="Using Spring Data JPA in a Java SE environment and run tests with dbUnit">
<meta property="og:description" content="Demonstration of how to set up spring data JPA in java SE and test with dbUnit">
<meta property="og:type" content="article">
<meta property="og:url" content="https://geowarin.com/using-spring-data-jpa-in-a-java-se-environment-and-run-tests-with-dbunit/"><meta property="article:section" content="post">
<meta property="article:published_time" content="2013-01-21T15:25:11+00:00">
<meta property="article:modified_time" content="2013-01-21T15:25:11+00:00">
<meta name=twitter:card content="summary">
<meta name=twitter:title content="Using Spring Data JPA in a Java SE environment and run tests with dbUnit">
<meta name=twitter:description content="Demonstration of how to set up spring data JPA in java SE and test with dbUnit">
<script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":2,"name":"Posts","item":"https://geowarin.com/post/"},{"@type":"ListItem","position":3,"name":"Using Spring Data JPA in a Java SE environment and run tests with dbUnit","item":"https://geowarin.com/using-spring-data-jpa-in-a-java-se-environment-and-run-tests-with-dbunit/"}]}</script>
<script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Using Spring Data JPA in a Java SE environment and run tests with dbUnit","name":"Using Spring Data JPA in a Java SE environment and run tests with dbUnit","description":"Demonstration of how to set up spring data JPA in java SE and test with dbUnit","keywords":["hibernate","java SE","spring","spring-data","spring-java-config","spring-test"],"articleBody":"This blog post follows my previous articles on using hibernate as a standalone JPA provider and how to use spring in a Java SE environment.\nIn this post, I will show you how to use Spring Data JPA, a great project which improves your productivity by generating all CRUD operations for you. Then we will use springtestdbunit to run some very clean tests on our database with spring and dbUnit.\nThe code source of this example is available on github : https://github.com/geowarin/hibernate-examples/tree/master/standalone-data-jpa\nWhat is Spring Data JPA? Are you tired of always implementing the findOne(long id), findAll(), save()… methods on your repositories? Having to come up with clever tricks to generate a generic DAO?\nThen give Spring Data JPA a try ! This project lets you implement a very simple interface for your repositories and takes care of all the rest, allowing you to focus on your real queries.\nThe configuration The configuration we will set up here is pretty similar to the one we used in the spring standalone article. We will just add a bunch of classes to make use of spring data jpa :\n@Configuration @EnableJpaRepositories(\"com.geowarin.standalonedatajpa.repository\") @EnableTransactionManagement public class StandaloneDataJpaConfig { @Bean public DataSource dataSource() { return new EmbeddedDatabaseBuilder().setType(EmbeddedDatabaseType.HSQL) .addScript(\"classpath:sql/schema.sql\") .addScript(\"classpath:sql/import-users.sql\") .build(); } @Bean public PlatformTransactionManager transactionManager() { JpaTransactionManager txManager = new JpaTransactionManager(); txManager.setEntityManagerFactory(entityManagerFactory()); return txManager; } @Bean public HibernateExceptionTranslator hibernateExceptionTranslator() { return new HibernateExceptionTranslator(); } @Bean public EntityManagerFactory entityManagerFactory() { // will set the provider to 'org.hibernate.ejb.HibernatePersistence' \tHibernateJpaVendorAdapter vendorAdapter = new HibernateJpaVendorAdapter(); // will set hibernate.show_sql to 'true' \tvendorAdapter.setShowSql(true); // if set to true, will set hibernate.hbm2ddl.auto to 'update' \tvendorAdapter.setGenerateDdl(false); LocalContainerEntityManagerFactoryBean factory = new LocalContainerEntityManagerFactoryBean(); factory.setJpaVendorAdapter(vendorAdapter); factory.setPackagesToScan(\"com.geowarin.standalonedatajpa.model\"); factory.setDataSource(dataSource()); // This will trigger the creation of the entity manager factory \tfactory.afterPropertiesSet(); return factory.getObject(); } @Bean public MainBean mainBean() { return new MainBean(); } } With this configuration, you won’t even need a persistence.xml file ! Compared to our previous example however, one cannot make use of hibernate.hbm2ddl.import_files property to import SQL scripts with hibernate because hibernate.hbm2ddl.auto must be set to either create or create-drop.\nThat’s ok we will generate some very tiny scripts to set up the schema and the data in our database (and make our DBA happy, a thing that is never to be disregarded :))\n Hint : If this is a real blocker for you, you could setGenrateDdl to false and maintain a simple hibernate.properties file like this one\nhibernate.hbm2ddl.auto=create hibernate.hbm2ddl.import_files=sql/import-users.sql hibernate.format_sql=true That’s because hibernate will always look for a hibernate.properties file in the classpath to override you persistence properties.\n Note the use of @EnableJpaRepositories that will tell spring data in which packages our repositories can be found.\n@EnableTransactionManagement is a replacement of the tag .\nWe can set up the LocalContainerEntityManagerFactoryBean to use a package to scan our entities for us, no need to list them all.\nThe rest is pretty straight forward I believe.\nNote that by default, spring data JPA will try to locate your persistence.xml so the two approaches are completely compatible, for this example however we will go for a full xml-less configuration.\nOne entity, one interface and we are ready We have one very simple entity :\n@Table(name = \"users\") @Entity public class User implements Serializable { private static final long serialVersionUID = 1L; @Id @GeneratedValue(strategy=GenerationType.AUTO) private long id; @Column(name = \"name\", nullable = false, unique=true, length=50) private String name; // getters and setters omitted } Now let’s use spring data to generate a repository for us :\npublic interface UserRepository extends JpaRepositoryUser, Long { } Tadaa! Is that it? Yes, you can now use your repository in our MainBean :\npublic class MainBean { @Autowired private UserRepository userRepository; private static Logger log = LoggerFactory.getLogger(MainBean.class); public void start() { // Spring Data JPA CRUD operations are transactionnal by default ! \t// http://static.springsource.org/spring-data/data-jpa/docs/current/reference/html/#transactions \tUser newUser = new User(); newUser.setName(\"inserted\"); userRepository.save(newUser); List all = userRepository.findAll(); log.info(\"users=\" + all); } } Pretty sweet. But that’s not all. You now have three different ways of writing new queries with Spring data :\n  Use named queries\n  Use the @Query annotation to write your own JPQL queries\n  Use the awesome query creation by method name\n  Let’s review the last two options (I don’t really like named queries but have a look a the documentation if you want)\npublic interface UserRepository extends JpaRepositoryUser, Long { // Demonstrate query creation by method name \t// http://static.springsource.org/spring-data/data-jpa/docs/current/reference/html/#jpa.query-methods.query-creation \tUser findByName(String name); // Demonstrate the use of a simple JPQL query \t@Query(\"from User u where upper(u.name) = upper(:name)\") User findByNameIgnoreCase(@Param(\"name\") String name); } Ok let’s test it Have a look at the unit test for our repository :\n@RunWith(SpringJUnit4ClassRunner.class) @ContextConfiguration(classes = { StandaloneDataJpaConfig.class }) @TestExecutionListeners({ DependencyInjectionTestExecutionListener.class, DbUnitTestExecutionListener.class }) public class UserRepositoryTest { @Autowired private UserRepository userRepository; @Test @DatabaseSetup(\"userAdminData.xml\") public void testFindAdmin() { User admin = userRepository.findOne(1L); Assert.assertNotNull(admin); Assert.assertEquals(\"admin\", admin.getName()); } @Test @DatabaseSetup(\"userAdminData.xml\") public void testFindByName() { User admin = userRepository.findByName(\"admin\"); Assert.assertNotNull(admin); Assert.assertEquals(\"admin\", admin.getName()); } @Test @DatabaseSetup(\"userAdminData.xml\") public void testFindByNameIgnoreCase() { User admin = userRepository.findByNameIgnoreCase(\"AdMIn\"); Assert.assertNotNull(admin); Assert.assertEquals(\"admin\", admin.getName()); } @Test @DatabaseSetup(\"userAdminData.xml\") @ExpectedDatabase(\"afterInsert.xml\") public void testInsertUser() { User newUser = new User(); newUser.setName(\"inserted\"); userRepository.save(newUser); } } We use springtestdbunit to be able to use annotations to set up and verify the database state after each test. Here are our two datasets.\nuserAdminData.xml :\n   id=\"1\" name=\"admin\" /  afterInsert.xml :\n   id=\"1\" name=\"admin\" /  id=\"2\" name=\"inserted\" /  Using the @ExpectedDatabase annotation is really awesome, dbUnit will generate very informative messages if your test failed.\nConclusion Spring Data JPA is really a good piece of software. We did not go into too much details but know that it will handle pagination, type-safe queries, is compatible with query-dsl and much more. It is suitable for a Java SE environment which can come in handy if we want to run some quick tests on our database.\nFinally, springtestdbunit is a very nice-to-have feature which will make your repository unit tests a real breeze to write.\nLastly, I will point out that making use of the transational behaviour of spring data CRUD operation is not really a good practice but we did it all the same for the sake of simplicity. A better approach would be to use @Service spring beans to encapsulate one or several operations.\n","wordCount":"1032","inLanguage":"en","datePublished":"2013-01-21T15:25:11Z","dateModified":"2013-01-21T15:25:11Z","mainEntityOfPage":{"@type":"WebPage","@id":"https://geowarin.com/using-spring-data-jpa-in-a-java-se-environment-and-run-tests-with-dbunit/"},"publisher":{"@type":"Organization","name":"Geowarin","logo":{"@type":"ImageObject","url":"https://geowarin.com/favicon.ico"}}}</script>
</head>
<body id=top>
<script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add('dark'):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove('dark'):window.matchMedia('(prefers-color-scheme: dark)').matches&&document.body.classList.add('dark')</script>
<header class=header>
<nav class=nav>
<div class=logo>
<a href=https://geowarin.com accesskey=h title="Geowarin (Alt + H)">Geowarin</a>
<span class=logo-switches>
<button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg>
</button>
</span>
</div>
<ul id=menu>
<li>
<a href=https://geowarin.com/archive/ title=Archive>
<span>Archive</span>
</a>
</li>
<li>
<a href=https://geowarin.com/search/ title="Search (Alt + /)" accesskey=/>
<span>Search</span>
</a>
</li>
<li>
<a href=https://geowarin.com/mastering-spring-mvc-4/ title=Book>
<span>Book</span>
</a>
</li>
</ul>
</nav>
</header>
<main class=main>
<article class=post-single>
<header class=post-header>
<div class=breadcrumbs><a href=https://geowarin.com>Home</a>&nbsp;»&nbsp;<a href=https://geowarin.com/post/>Posts</a></div>
<h1 class=post-title>
Using Spring Data JPA in a Java SE environment and run tests with dbUnit
</h1>
<div class=post-meta><span title="2013-01-21 15:25:11 +0000 UTC">January 21, 2013</span>&nbsp;·&nbsp;5 min
</div>
</header>
<div class=post-content><p>This blog post follows my previous articles on using <a href=http://geowarin.wordpress.com/2013/01/20/using-hibernate-as-a-jpa-provider-in-a-java-se-environment-and-run-tests-with-dbunit/>hibernate as a standalone JPA provider</a> and how to use <a href=http://geowarin.wordpress.com/2013/01/20/using-spring-in-a-java-se-environment-and-implementing-the-chain-of-responsibility-pattern/>spring in a Java SE</a> environment.</p>
<p>In this post, I will show you how to use <a href=http://geowarin.wordpress.com/2013/01/21/using-spring-data-jpa-in-a-java-se-environment-and-run-tests-with-dbunit/>Spring Data JPA</a>, a great project which improves your productivity by generating all CRUD operations for you. Then we will use <a href=http://springtestdbunit.github.com/spring-test-dbunit/>springtestdbunit</a> to run some very clean tests on our database with spring and <a href=http://www.dbunit.org/>dbUnit</a>.</p>
<p>The code source of this example is available on github : <a href=https://github.com/geowarin/hibernate-examples/tree/master/standalone-data-jpa>https://github.com/geowarin/hibernate-examples/tree/master/standalone-data-jpa</a></p>
<h2 id=what-is-spring-data-jpa>What is Spring Data JPA?<a hidden class=anchor aria-hidden=true href=#what-is-spring-data-jpa>#</a></h2>
<p>Are you tired of always implementing the findOne(long id), findAll(), save()&mldr; methods on your repositories? Having to come up with clever tricks to generate a generic DAO?</p>
<p>Then give Spring Data JPA a try ! This project lets you implement a very simple interface for your repositories and takes care of all the rest, allowing you to focus on your real queries.</p>
<h2 id=the-configuration>The configuration<a hidden class=anchor aria-hidden=true href=#the-configuration>#</a></h2>
<p>The configuration we will set up here is pretty similar to the one we used in the <a href=http://geowarin.wordpress.com/2013/01/20/using-spring-in-a-java-se-environment-and-implementing-the-chain-of-responsibility-pattern/>spring standalone article.</a> We will just add a bunch of classes to make use of spring data jpa :</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=color:#a6e22e>@Configuration</span>
<span style=color:#a6e22e>@EnableJpaRepositories</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;com.geowarin.standalonedatajpa.repository&#34;</span><span style=color:#f92672>)</span>
<span style=color:#a6e22e>@EnableTransactionManagement</span>
<span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>StandaloneDataJpaConfig</span> <span style=color:#f92672>{</span>

	<span style=color:#a6e22e>@Bean</span>
	<span style=color:#66d9ef>public</span> DataSource <span style=color:#a6e22e>dataSource</span><span style=color:#f92672>()</span> <span style=color:#f92672>{</span>
		<span style=color:#66d9ef>return</span> <span style=color:#66d9ef>new</span> EmbeddedDatabaseBuilder<span style=color:#f92672>().</span><span style=color:#a6e22e>setType</span><span style=color:#f92672>(</span>EmbeddedDatabaseType<span style=color:#f92672>.</span><span style=color:#a6e22e>HSQL</span><span style=color:#f92672>)</span>
				<span style=color:#f92672>.</span><span style=color:#a6e22e>addScript</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;classpath:sql/schema.sql&#34;</span><span style=color:#f92672>)</span>
				<span style=color:#f92672>.</span><span style=color:#a6e22e>addScript</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;classpath:sql/import-users.sql&#34;</span><span style=color:#f92672>)</span>
				<span style=color:#f92672>.</span><span style=color:#a6e22e>build</span><span style=color:#f92672>();</span>
	<span style=color:#f92672>}</span>

	<span style=color:#a6e22e>@Bean</span>
	<span style=color:#66d9ef>public</span> PlatformTransactionManager <span style=color:#a6e22e>transactionManager</span><span style=color:#f92672>()</span> <span style=color:#f92672>{</span>

		JpaTransactionManager txManager <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> JpaTransactionManager<span style=color:#f92672>();</span>
		txManager<span style=color:#f92672>.</span><span style=color:#a6e22e>setEntityManagerFactory</span><span style=color:#f92672>(</span>entityManagerFactory<span style=color:#f92672>());</span>
		<span style=color:#66d9ef>return</span> txManager<span style=color:#f92672>;</span>
	<span style=color:#f92672>}</span>

	<span style=color:#a6e22e>@Bean</span>
	<span style=color:#66d9ef>public</span> HibernateExceptionTranslator <span style=color:#a6e22e>hibernateExceptionTranslator</span><span style=color:#f92672>()</span> <span style=color:#f92672>{</span>
		<span style=color:#66d9ef>return</span> <span style=color:#66d9ef>new</span> HibernateExceptionTranslator<span style=color:#f92672>();</span>
	<span style=color:#f92672>}</span>

	<span style=color:#a6e22e>@Bean</span>
	<span style=color:#66d9ef>public</span> EntityManagerFactory <span style=color:#a6e22e>entityManagerFactory</span><span style=color:#f92672>()</span> <span style=color:#f92672>{</span>

		<span style=color:#75715e>// will set the provider to &#39;org.hibernate.ejb.HibernatePersistence&#39;
</span><span style=color:#75715e></span>		HibernateJpaVendorAdapter vendorAdapter <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> HibernateJpaVendorAdapter<span style=color:#f92672>();</span>
		<span style=color:#75715e>// will set hibernate.show_sql to &#39;true&#39;
</span><span style=color:#75715e></span>		vendorAdapter<span style=color:#f92672>.</span><span style=color:#a6e22e>setShowSql</span><span style=color:#f92672>(</span><span style=color:#66d9ef>true</span><span style=color:#f92672>);</span>
		<span style=color:#75715e>// if set to true, will set hibernate.hbm2ddl.auto to &#39;update&#39;
</span><span style=color:#75715e></span>		vendorAdapter<span style=color:#f92672>.</span><span style=color:#a6e22e>setGenerateDdl</span><span style=color:#f92672>(</span><span style=color:#66d9ef>false</span><span style=color:#f92672>);</span>

		LocalContainerEntityManagerFactoryBean factory <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> LocalContainerEntityManagerFactoryBean<span style=color:#f92672>();</span>
		factory<span style=color:#f92672>.</span><span style=color:#a6e22e>setJpaVendorAdapter</span><span style=color:#f92672>(</span>vendorAdapter<span style=color:#f92672>);</span>
		factory<span style=color:#f92672>.</span><span style=color:#a6e22e>setPackagesToScan</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;com.geowarin.standalonedatajpa.model&#34;</span><span style=color:#f92672>);</span>
		factory<span style=color:#f92672>.</span><span style=color:#a6e22e>setDataSource</span><span style=color:#f92672>(</span>dataSource<span style=color:#f92672>());</span>

		<span style=color:#75715e>// This will trigger the creation of the entity manager factory
</span><span style=color:#75715e></span>		factory<span style=color:#f92672>.</span><span style=color:#a6e22e>afterPropertiesSet</span><span style=color:#f92672>();</span>

		<span style=color:#66d9ef>return</span> factory<span style=color:#f92672>.</span><span style=color:#a6e22e>getObject</span><span style=color:#f92672>();</span>
	<span style=color:#f92672>}</span>

	<span style=color:#a6e22e>@Bean</span>
	<span style=color:#66d9ef>public</span> MainBean <span style=color:#a6e22e>mainBean</span><span style=color:#f92672>()</span> <span style=color:#f92672>{</span>
		<span style=color:#66d9ef>return</span> <span style=color:#66d9ef>new</span> MainBean<span style=color:#f92672>();</span>
	<span style=color:#f92672>}</span>
<span style=color:#f92672>}</span>
</code></pre></div><p>With this configuration, you won&rsquo;t even need a <em>persistence.xml</em> file ! Compared to our <a href=http://geowarin.wordpress.com/2013/01/20/using-hibernate-as-a-jpa-provider-in-a-java-se-environment-and-run-tests-with-dbunit/>previous example</a> however, one cannot make use of <em>hibernate.hbm2ddl.import_files</em> property to import SQL scripts with hibernate because <em>hibernate.hbm2ddl.auto</em> must be set to either <em>create</em> or <em>create-drop</em>.</p>
<p>That&rsquo;s ok we will generate some very tiny scripts to set up the schema and the data in our database (and make our DBA happy, a thing that is never to be disregarded :))</p>
<hr>
<p><strong>Hint</strong> : If this is a real blocker for you, you could setGenrateDdl to false and maintain a simple <strong>hibernate.properties</strong> file like this one</p>
<pre tabindex=0><code class=language-properties data-lang=properties>hibernate.hbm2ddl.auto=create
hibernate.hbm2ddl.import_files=sql/import-users.sql
hibernate.format_sql=true
</code></pre><p>That&rsquo;s because hibernate will always look for a <a href=http://docs.jboss.org/hibernate/core/4.1/manual/en-US/html/ch03.html#configuration-optional-properties>hibernate.properties</a> file in the classpath to override you persistence properties.</p>
<hr>
<p>Note the use of <strong>@EnableJpaRepositories</strong> that will tell spring data in which packages our repositories can be found.</p>
<p><strong>@EnableTransactionManagement</strong> is a replacement of the tag <code>&lt;tx:annotation-driven /></code>.</p>
<p>We can set up the <a href=http://static.springsource.org/spring-framework/docs/3.2.0.RC1/api/org/springframework/orm/jpa/LocalContainerEntityManagerFactoryBean.html>LocalContainerEntityManagerFactoryBean </a>to use a package to scan our entities for us, no need to list them all.</p>
<p>The rest is pretty straight forward I believe.</p>
<p>Note that by default, spring data JPA will try to locate your <em>persistence.xml</em> so the two approaches are completely compatible, for this example however we will go for a full xml-less configuration.</p>
<h2 id=one-entity-one-interface-and-we-are-ready>One entity, one interface and we are ready<a hidden class=anchor aria-hidden=true href=#one-entity-one-interface-and-we-are-ready>#</a></h2>
<p>We have one very simple entity :</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=color:#a6e22e>@Table</span><span style=color:#f92672>(</span>name <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;users&#34;</span><span style=color:#f92672>)</span>
<span style=color:#a6e22e>@Entity</span>
<span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>User</span> <span style=color:#66d9ef>implements</span> Serializable <span style=color:#f92672>{</span>

	<span style=color:#66d9ef>private</span> <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>final</span> <span style=color:#66d9ef>long</span> serialVersionUID <span style=color:#f92672>=</span> 1L<span style=color:#f92672>;</span>

	<span style=color:#a6e22e>@Id</span>
	<span style=color:#a6e22e>@GeneratedValue</span><span style=color:#f92672>(</span>strategy<span style=color:#f92672>=</span>GenerationType<span style=color:#f92672>.</span><span style=color:#a6e22e>AUTO</span><span style=color:#f92672>)</span>
	<span style=color:#66d9ef>private</span> <span style=color:#66d9ef>long</span> id<span style=color:#f92672>;</span>

	<span style=color:#a6e22e>@Column</span><span style=color:#f92672>(</span>name <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;name&#34;</span><span style=color:#f92672>,</span> nullable <span style=color:#f92672>=</span> <span style=color:#66d9ef>false</span><span style=color:#f92672>,</span> unique<span style=color:#f92672>=</span><span style=color:#66d9ef>true</span><span style=color:#f92672>,</span> length<span style=color:#f92672>=</span>50<span style=color:#f92672>)</span>
	<span style=color:#66d9ef>private</span> String name<span style=color:#f92672>;</span>

	<span style=color:#75715e>// getters and setters omitted
</span><span style=color:#75715e></span><span style=color:#f92672>}</span>
</code></pre></div><p>Now let&rsquo;s use spring data to generate a repository for us :</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>interface</span> <span style=color:#a6e22e>UserRepository</span>  <span style=color:#66d9ef>extends</span> JpaRepository<span style=color:#f92672>&lt;</span>User<span style=color:#f92672>,</span> Long<span style=color:#f92672>&gt;</span> <span style=color:#f92672>{</span>
<span style=color:#f92672>}</span>
</code></pre></div><p>Tadaa! Is that it? Yes, you can now use your repository in our <strong>MainBean</strong> :</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>MainBean</span> <span style=color:#f92672>{</span>

	<span style=color:#a6e22e>@Autowired</span>
	<span style=color:#66d9ef>private</span> UserRepository userRepository<span style=color:#f92672>;</span>

	<span style=color:#66d9ef>private</span> <span style=color:#66d9ef>static</span> Logger log <span style=color:#f92672>=</span> LoggerFactory<span style=color:#f92672>.</span><span style=color:#a6e22e>getLogger</span><span style=color:#f92672>(</span>MainBean<span style=color:#f92672>.</span><span style=color:#a6e22e>class</span><span style=color:#f92672>);</span>

	<span style=color:#66d9ef>public</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>start</span><span style=color:#f92672>()</span> <span style=color:#f92672>{</span>

		<span style=color:#75715e>// Spring Data JPA CRUD operations are transactionnal by default !
</span><span style=color:#75715e></span>		<span style=color:#75715e>// http://static.springsource.org/spring-data/data-jpa/docs/current/reference/html/#transactions
</span><span style=color:#75715e></span>		User newUser <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> User<span style=color:#f92672>();</span>
		newUser<span style=color:#f92672>.</span><span style=color:#a6e22e>setName</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;inserted&#34;</span><span style=color:#f92672>);</span>
		userRepository<span style=color:#f92672>.</span><span style=color:#a6e22e>save</span><span style=color:#f92672>(</span>newUser<span style=color:#f92672>);</span>

		List all <span style=color:#f92672>=</span> userRepository<span style=color:#f92672>.</span><span style=color:#a6e22e>findAll</span><span style=color:#f92672>();</span>
		log<span style=color:#f92672>.</span><span style=color:#a6e22e>info</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;users=&#34;</span> <span style=color:#f92672>+</span> all<span style=color:#f92672>);</span>
	<span style=color:#f92672>}</span>
<span style=color:#f92672>}</span>
</code></pre></div><p>Pretty sweet. But that&rsquo;s not all. You now have three different ways of writing new queries with Spring data :</p>
<ol>
<li>
<p>Use <a href=https://blogs.oracle.com/JPQL01/entry/named_query_in_java_persistence>named queries</a></p>
</li>
<li>
<p><a href=http://static.springsource.org/spring-data/data-jpa/docs/current/reference/html/#jpa.query-methods.at-query>Use the @Query annotation</a> to write your own JPQL queries</p>
</li>
<li>
<p>Use the awesome <a href=http://static.springsource.org/spring-data/data-jpa/docs/current/reference/html/#jpa.query-methods.query-creation>query creation by method name</a></p>
</li>
</ol>
<p>Let&rsquo;s review the last two options (I don&rsquo;t really like named queries but have a look a the <a href=http://static.springsource.org/spring-data/jpa/docs/1.2.0.RELEASE/reference/html/#jpa.query-methods.named-queries>documentation</a> if you want)</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>interface</span> <span style=color:#a6e22e>UserRepository</span>  <span style=color:#66d9ef>extends</span> JpaRepository<span style=color:#f92672>&lt;</span>User<span style=color:#f92672>,</span> Long<span style=color:#f92672>&gt;</span> <span style=color:#f92672>{</span>

	<span style=color:#75715e>// Demonstrate query creation by method name
</span><span style=color:#75715e></span>	<span style=color:#75715e>// http://static.springsource.org/spring-data/data-jpa/docs/current/reference/html/#jpa.query-methods.query-creation
</span><span style=color:#75715e></span>	User <span style=color:#a6e22e>findByName</span><span style=color:#f92672>(</span>String name<span style=color:#f92672>);</span>

	<span style=color:#75715e>// Demonstrate the use of a simple JPQL query
</span><span style=color:#75715e></span>	<span style=color:#a6e22e>@Query</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;from User u where upper(u.name) = upper(:name)&#34;</span><span style=color:#f92672>)</span>
	User <span style=color:#a6e22e>findByNameIgnoreCase</span><span style=color:#f92672>(</span><span style=color:#a6e22e>@Param</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;name&#34;</span><span style=color:#f92672>)</span> String name<span style=color:#f92672>);</span>
<span style=color:#f92672>}</span>
</code></pre></div><h2 id=ok-lets-test-it>Ok let&rsquo;s test it<a hidden class=anchor aria-hidden=true href=#ok-lets-test-it>#</a></h2>
<p>Have a look at the unit test for our repository :</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=color:#a6e22e>@RunWith</span><span style=color:#f92672>(</span>SpringJUnit4ClassRunner<span style=color:#f92672>.</span><span style=color:#a6e22e>class</span><span style=color:#f92672>)</span>
<span style=color:#a6e22e>@ContextConfiguration</span><span style=color:#f92672>(</span>classes <span style=color:#f92672>=</span> <span style=color:#f92672>{</span> StandaloneDataJpaConfig<span style=color:#f92672>.</span><span style=color:#a6e22e>class</span> <span style=color:#f92672>})</span>
<span style=color:#a6e22e>@TestExecutionListeners</span><span style=color:#f92672>({</span> DependencyInjectionTestExecutionListener<span style=color:#f92672>.</span><span style=color:#a6e22e>class</span><span style=color:#f92672>,</span>
	DbUnitTestExecutionListener<span style=color:#f92672>.</span><span style=color:#a6e22e>class</span> <span style=color:#f92672>})</span>
<span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>UserRepositoryTest</span> <span style=color:#f92672>{</span>

	<span style=color:#a6e22e>@Autowired</span>
	<span style=color:#66d9ef>private</span> UserRepository userRepository<span style=color:#f92672>;</span>

	<span style=color:#a6e22e>@Test</span>
	<span style=color:#a6e22e>@DatabaseSetup</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;userAdminData.xml&#34;</span><span style=color:#f92672>)</span>
	<span style=color:#66d9ef>public</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>testFindAdmin</span><span style=color:#f92672>()</span> <span style=color:#f92672>{</span>

		User admin <span style=color:#f92672>=</span> userRepository<span style=color:#f92672>.</span><span style=color:#a6e22e>findOne</span><span style=color:#f92672>(</span>1L<span style=color:#f92672>);</span>
		Assert<span style=color:#f92672>.</span><span style=color:#a6e22e>assertNotNull</span><span style=color:#f92672>(</span>admin<span style=color:#f92672>);</span>
		Assert<span style=color:#f92672>.</span><span style=color:#a6e22e>assertEquals</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;admin&#34;</span><span style=color:#f92672>,</span> admin<span style=color:#f92672>.</span><span style=color:#a6e22e>getName</span><span style=color:#f92672>());</span>
	<span style=color:#f92672>}</span>

	<span style=color:#a6e22e>@Test</span>
	<span style=color:#a6e22e>@DatabaseSetup</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;userAdminData.xml&#34;</span><span style=color:#f92672>)</span>
	<span style=color:#66d9ef>public</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>testFindByName</span><span style=color:#f92672>()</span> <span style=color:#f92672>{</span>

		User admin <span style=color:#f92672>=</span> userRepository<span style=color:#f92672>.</span><span style=color:#a6e22e>findByName</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;admin&#34;</span><span style=color:#f92672>);</span>
		Assert<span style=color:#f92672>.</span><span style=color:#a6e22e>assertNotNull</span><span style=color:#f92672>(</span>admin<span style=color:#f92672>);</span>
		Assert<span style=color:#f92672>.</span><span style=color:#a6e22e>assertEquals</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;admin&#34;</span><span style=color:#f92672>,</span> admin<span style=color:#f92672>.</span><span style=color:#a6e22e>getName</span><span style=color:#f92672>());</span>
	<span style=color:#f92672>}</span>

	<span style=color:#a6e22e>@Test</span>
	<span style=color:#a6e22e>@DatabaseSetup</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;userAdminData.xml&#34;</span><span style=color:#f92672>)</span>
	<span style=color:#66d9ef>public</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>testFindByNameIgnoreCase</span><span style=color:#f92672>()</span> <span style=color:#f92672>{</span>

		User admin <span style=color:#f92672>=</span> userRepository<span style=color:#f92672>.</span><span style=color:#a6e22e>findByNameIgnoreCase</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;AdMIn&#34;</span><span style=color:#f92672>);</span>
		Assert<span style=color:#f92672>.</span><span style=color:#a6e22e>assertNotNull</span><span style=color:#f92672>(</span>admin<span style=color:#f92672>);</span>
		Assert<span style=color:#f92672>.</span><span style=color:#a6e22e>assertEquals</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;admin&#34;</span><span style=color:#f92672>,</span> admin<span style=color:#f92672>.</span><span style=color:#a6e22e>getName</span><span style=color:#f92672>());</span>
	<span style=color:#f92672>}</span>

	<span style=color:#a6e22e>@Test</span>
	<span style=color:#a6e22e>@DatabaseSetup</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;userAdminData.xml&#34;</span><span style=color:#f92672>)</span>
	<span style=color:#a6e22e>@ExpectedDatabase</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;afterInsert.xml&#34;</span><span style=color:#f92672>)</span>
	<span style=color:#66d9ef>public</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>testInsertUser</span><span style=color:#f92672>()</span> <span style=color:#f92672>{</span>

		User newUser <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> User<span style=color:#f92672>();</span>
		newUser<span style=color:#f92672>.</span><span style=color:#a6e22e>setName</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;inserted&#34;</span><span style=color:#f92672>);</span>
		userRepository<span style=color:#f92672>.</span><span style=color:#a6e22e>save</span><span style=color:#f92672>(</span>newUser<span style=color:#f92672>);</span>
	<span style=color:#f92672>}</span>

<span style=color:#f92672>}</span>
</code></pre></div><p>We use springtestdbunit to be able to use annotations to set up and verify the database state after each test. Here are our two datasets.</p>
<p>userAdminData.xml :</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=color:#75715e>&lt;?xml version=&#34;1.0&#34; encoding=&#34;UTF-8&#34;?&gt;</span>
<span style=color:#f92672>&lt;dataset&gt;</span>
	<span style=color:#f92672>&lt;users</span> <span style=color:#a6e22e>id=</span><span style=color:#e6db74>&#34;1&#34;</span> <span style=color:#a6e22e>name=</span><span style=color:#e6db74>&#34;admin&#34;</span> <span style=color:#f92672>/&gt;</span>
<span style=color:#f92672>&lt;/dataset&gt;</span>
</code></pre></div><p>afterInsert.xml :</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=color:#75715e>&lt;?xml version=&#34;1.0&#34; encoding=&#34;UTF-8&#34;?&gt;</span>
<span style=color:#f92672>&lt;dataset&gt;</span>
	<span style=color:#f92672>&lt;users</span> <span style=color:#a6e22e>id=</span><span style=color:#e6db74>&#34;1&#34;</span> <span style=color:#a6e22e>name=</span><span style=color:#e6db74>&#34;admin&#34;</span> <span style=color:#f92672>/&gt;</span>
	<span style=color:#f92672>&lt;users</span> <span style=color:#a6e22e>id=</span><span style=color:#e6db74>&#34;2&#34;</span> <span style=color:#a6e22e>name=</span><span style=color:#e6db74>&#34;inserted&#34;</span> <span style=color:#f92672>/&gt;</span>
<span style=color:#f92672>&lt;/dataset&gt;</span>
</code></pre></div><p>Using the <strong>@ExpectedDatabase</strong> annotation is really awesome, dbUnit will generate very informative messages if your test failed.</p>
<h2 id=conclusion>Conclusion<a hidden class=anchor aria-hidden=true href=#conclusion>#</a></h2>
<p>Spring Data JPA is really a good piece of software. We did not go into too much details but know that it will handle pagination, type-safe queries, is compatible with <a href=http://www.querydsl.com/>query-dsl</a> and much more.
It is suitable for a Java SE environment which can come in handy if we want to run some quick tests on our database.</p>
<p>Finally, springtestdbunit is a very nice-to-have feature which will make your repository unit tests a real breeze to write.</p>
<p>Lastly, I will point out that making use of the <a href=http://static.springsource.org/spring-data/data-jpa/docs/current/reference/html/#transactions>transational behaviour of spring data</a> CRUD operation is not really a good practice but we did it all the same for the sake of simplicity.
A better approach would be to use <strong>@Service</strong> spring beans to encapsulate one or several operations.</p>
</div>
<footer class=post-footer>
<ul class=post-tags>
<li><a href=https://geowarin.com/tags/hibernate/>Hibernate</a></li>
<li><a href=https://geowarin.com/tags/java-se/>java SE</a></li>
<li><a href=https://geowarin.com/tags/spring/>spring</a></li>
<li><a href=https://geowarin.com/tags/spring-data/>spring-data</a></li>
<li><a href=https://geowarin.com/tags/spring-java-config/>spring-java-config</a></li>
<li><a href=https://geowarin.com/tags/spring-test/>spring-test</a></li>
</ul>
<nav class=paginav>
<a class=prev href=https://geowarin.com/generate-ddl-with-hibernate/>
<span class=title>« Prev Page</span>
<br>
<span>Generate DDL with hibernate</span>
</a>
<a class=next href=https://geowarin.com/using-spring-in-a-java-se-environment-and-implementing-the-chain-of-responsibility-pattern/>
<span class=title>Next Page »</span>
<br>
<span>Using spring in a Java SE environment and implementing the chain of responsibility pattern</span>
</a>
</nav>
<div class=share-buttons>
<a target=_blank rel="noopener noreferrer" aria-label="share Using Spring Data JPA in a Java SE environment and run tests with dbUnit on twitter" href="https://twitter.com/intent/tweet/?text=Using%20Spring%20Data%20JPA%20in%20a%20Java%20SE%20environment%20and%20run%20tests%20with%20dbUnit&url=https%3a%2f%2fgeowarin.com%2fusing-spring-data-jpa-in-a-java-se-environment-and-run-tests-with-dbunit%2f&hashtags=hibernate%2cjavaSE%2cspring%2cspring-data%2cspring-java-config%2cspring-test"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM195.519 424.544c135.939.0 210.268-112.643 210.268-210.268.0-3.218.0-6.437-.153-9.502 14.406-10.421 26.973-23.448 36.935-38.314-13.18 5.824-27.433 9.809-42.452 11.648 15.326-9.196 26.973-23.602 32.49-40.92-14.252 8.429-30.038 14.56-46.896 17.931-13.487-14.406-32.644-23.295-53.946-23.295-40.767.0-73.87 33.104-73.87 73.87.0 5.824.613 11.494 1.992 16.858-61.456-3.065-115.862-32.49-152.337-77.241-6.284 10.881-9.962 23.601-9.962 37.088.0 25.594 13.027 48.276 32.95 61.456-12.107-.307-23.448-3.678-33.41-9.196v.92c0 35.862 25.441 65.594 59.311 72.49-6.13 1.686-12.72 2.606-19.464 2.606-4.751.0-9.348-.46-13.946-1.38 9.349 29.426 36.628 50.728 68.965 51.341-25.287 19.771-57.164 31.571-91.8 31.571-5.977.0-11.801-.306-17.625-1.073 32.337 21.15 71.264 33.41 112.95 33.41z"/></svg>
</a>
<a target=_blank rel="noopener noreferrer" aria-label="share Using Spring Data JPA in a Java SE environment and run tests with dbUnit on linkedin" href="https://www.linkedin.com/shareArticle?mini=true&url=https%3a%2f%2fgeowarin.com%2fusing-spring-data-jpa-in-a-java-se-environment-and-run-tests-with-dbunit%2f&title=Using%20Spring%20Data%20JPA%20in%20a%20Java%20SE%20environment%20and%20run%20tests%20with%20dbUnit&summary=Using%20Spring%20Data%20JPA%20in%20a%20Java%20SE%20environment%20and%20run%20tests%20with%20dbUnit&source=https%3a%2f%2fgeowarin.com%2fusing-spring-data-jpa-in-a-java-se-environment-and-run-tests-with-dbunit%2f"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM160.461 423.278V197.561h-75.04v225.717h75.04zm270.539.0V293.839c0-69.333-37.018-101.586-86.381-101.586-39.804.0-57.634 21.891-67.617 37.266v-31.958h-75.021c.995 21.181.0 225.717.0 225.717h75.02V297.222c0-6.748.486-13.492 2.474-18.315 5.414-13.475 17.767-27.434 38.494-27.434 27.135.0 38.007 20.707 38.007 51.037v120.768H431zM123.448 88.722C97.774 88.722 81 105.601 81 127.724c0 21.658 16.264 39.002 41.455 39.002h.484c26.165.0 42.452-17.344 42.452-39.002-.485-22.092-16.241-38.954-41.943-39.002z"/></svg>
</a>
<a target=_blank rel="noopener noreferrer" aria-label="share Using Spring Data JPA in a Java SE environment and run tests with dbUnit on reddit" href="https://reddit.com/submit?url=https%3a%2f%2fgeowarin.com%2fusing-spring-data-jpa-in-a-java-se-environment-and-run-tests-with-dbunit%2f&title=Using%20Spring%20Data%20JPA%20in%20a%20Java%20SE%20environment%20and%20run%20tests%20with%20dbUnit"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM446 265.638c0-22.964-18.616-41.58-41.58-41.58-11.211.0-21.361 4.457-28.841 11.666-28.424-20.508-67.586-33.757-111.204-35.278l18.941-89.121 61.884 13.157c.756 15.734 13.642 28.29 29.56 28.29 16.407.0 29.706-13.299 29.706-29.701.0-16.403-13.299-29.702-29.706-29.702-11.666.0-21.657 6.792-26.515 16.578l-69.105-14.69c-1.922-.418-3.939-.042-5.585 1.036-1.658 1.073-2.811 2.761-3.224 4.686l-21.152 99.438c-44.258 1.228-84.046 14.494-112.837 35.232-7.468-7.164-17.589-11.591-28.757-11.591-22.965.0-41.585 18.616-41.585 41.58.0 16.896 10.095 31.41 24.568 37.918-.639 4.135-.99 8.328-.99 12.576.0 63.977 74.469 115.836 166.33 115.836s166.334-51.859 166.334-115.836c0-4.218-.347-8.387-.977-12.493 14.564-6.47 24.735-21.034 24.735-38.001zM326.526 373.831c-20.27 20.241-59.115 21.816-70.534 21.816-11.428.0-50.277-1.575-70.522-21.82-3.007-3.008-3.007-7.882.0-10.889 3.003-2.999 7.882-3.003 10.885.0 12.777 12.781 40.11 17.317 59.637 17.317 19.522.0 46.86-4.536 59.657-17.321 3.016-2.999 7.886-2.995 10.885.008 3.008 3.011 3.003 7.882-.008 10.889zm-5.23-48.781c-16.373.0-29.701-13.324-29.701-29.698.0-16.381 13.328-29.714 29.701-29.714 16.378.0 29.706 13.333 29.706 29.714.0 16.374-13.328 29.698-29.706 29.698zM160.91 295.348c0-16.381 13.328-29.71 29.714-29.71 16.369.0 29.689 13.329 29.689 29.71.0 16.373-13.32 29.693-29.689 29.693-16.386.0-29.714-13.32-29.714-29.693z"/></svg>
</a>
<a target=_blank rel="noopener noreferrer" aria-label="share Using Spring Data JPA in a Java SE environment and run tests with dbUnit on facebook" href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2fgeowarin.com%2fusing-spring-data-jpa-in-a-java-se-environment-and-run-tests-with-dbunit%2f"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H342.978V319.085h66.6l12.672-82.621h-79.272v-53.617c0-22.603 11.073-44.636 46.58-44.636H425.6v-70.34s-32.71-5.582-63.982-5.582c-65.288.0-107.96 39.569-107.96 111.204v62.971h-72.573v82.621h72.573V512h-191.104c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892z"/></svg>
</a>
<a target=_blank rel="noopener noreferrer" aria-label="share Using Spring Data JPA in a Java SE environment and run tests with dbUnit on whatsapp" href="https://api.whatsapp.com/send?text=Using%20Spring%20Data%20JPA%20in%20a%20Java%20SE%20environment%20and%20run%20tests%20with%20dbUnit%20-%20https%3a%2f%2fgeowarin.com%2fusing-spring-data-jpa-in-a-java-se-environment-and-run-tests-with-dbunit%2f"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zm-58.673 127.703c-33.842-33.881-78.847-52.548-126.798-52.568-98.799.0-179.21 80.405-179.249 179.234-.013 31.593 8.241 62.428 23.927 89.612l-25.429 92.884 95.021-24.925c26.181 14.28 55.659 21.807 85.658 21.816h.074c98.789.0 179.206-80.413 179.247-179.243.018-47.895-18.61-92.93-52.451-126.81zM263.976 403.485h-.06c-26.734-.01-52.954-7.193-75.828-20.767l-5.441-3.229-56.386 14.792 15.05-54.977-3.542-5.637c-14.913-23.72-22.791-51.136-22.779-79.287.033-82.142 66.867-148.971 149.046-148.971 39.793.014 77.199 15.531 105.329 43.692 28.128 28.16 43.609 65.592 43.594 105.4-.034 82.149-66.866 148.983-148.983 148.984zm81.721-111.581c-4.479-2.242-26.499-13.075-30.604-14.571-4.105-1.495-7.091-2.241-10.077 2.241-2.986 4.483-11.569 14.572-14.182 17.562-2.612 2.988-5.225 3.364-9.703 1.12-4.479-2.241-18.91-6.97-36.017-22.23C231.8 264.15 222.81 249.484 220.198 245s-.279-6.908 1.963-9.14c2.016-2.007 4.48-5.232 6.719-7.847 2.24-2.615 2.986-4.484 4.479-7.472 1.493-2.99.747-5.604-.374-7.846-1.119-2.241-10.077-24.288-13.809-33.256-3.635-8.733-7.327-7.55-10.077-7.688-2.609-.13-5.598-.158-8.583-.158-2.986.0-7.839 1.121-11.944 5.604-4.105 4.484-15.675 15.32-15.675 37.364.0 22.046 16.048 43.342 18.287 46.332 2.24 2.99 31.582 48.227 76.511 67.627 10.685 4.615 19.028 7.371 25.533 9.434 10.728 3.41 20.492 2.929 28.209 1.775 8.605-1.285 26.499-10.833 30.231-21.295 3.732-10.464 3.732-19.431 2.612-21.298-1.119-1.869-4.105-2.99-8.583-5.232z"/></svg>
</a>
<a target=_blank rel="noopener noreferrer" aria-label="share Using Spring Data JPA in a Java SE environment and run tests with dbUnit on telegram" href="https://telegram.me/share/url?text=Using%20Spring%20Data%20JPA%20in%20a%20Java%20SE%20environment%20and%20run%20tests%20with%20dbUnit&url=https%3a%2f%2fgeowarin.com%2fusing-spring-data-jpa-in-a-java-se-environment-and-run-tests-with-dbunit%2f"><svg viewBox="2 2 28 28"><path d="M26.49 29.86H5.5a3.37 3.37.0 01-2.47-1 3.35 3.35.0 01-1-2.47V5.48A3.36 3.36.0 013 3 3.37 3.37.0 015.5 2h21A3.38 3.38.0 0129 3a3.36 3.36.0 011 2.46V26.37a3.35 3.35.0 01-1 2.47 3.38 3.38.0 01-2.51 1.02zm-5.38-6.71a.79.79.0 00.85-.66L24.73 9.24a.55.55.0 00-.18-.46.62.62.0 00-.41-.17q-.08.0-16.53 6.11a.59.59.0 00-.41.59.57.57.0 00.43.52l4 1.24 1.61 4.83a.62.62.0 00.63.43.56.56.0 00.4-.17L16.54 20l4.09 3A.9.9.0 0021.11 23.15zM13.8 20.71l-1.21-4q8.72-5.55 8.78-5.55c.15.0.23.0.23.16a.18.18.0 010 .06s-2.51 2.3-7.52 6.8z"/></svg>
</a>
</div>
</footer><script src=https://utteranc.es/client.js repo=geowarin/geowarin.github.io issue-term=title theme=photon-dark crossorigin=anonymous async></script>
</article>
</main>
<footer class=footer>
<span>&copy; 2021 <a href=https://geowarin.com>Geowarin</a></span>
<span>
Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://git.io/hugopapermod rel=noopener target=_blank>PaperMod</a>
</span>
</footer>
<a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a>
<script>let menu=document.getElementById('menu');menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(a=>{a.addEventListener("click",function(b){b.preventDefault();var a=this.getAttribute("href").substr(1);window.matchMedia('(prefers-reduced-motion: reduce)').matches?document.querySelector(`[id='${decodeURIComponent(a)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(a)}']`).scrollIntoView({behavior:"smooth"}),a==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${a}`)})})</script>
<script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script>
<script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove('dark'),localStorage.setItem("pref-theme",'light')):(document.body.classList.add('dark'),localStorage.setItem("pref-theme",'dark'))})</script>
<script>document.querySelectorAll('pre > code').forEach(b=>{const c=b.parentNode.parentNode,a=document.createElement('button');a.classList.add('copy-code'),a.innerText='copy';function d(){a.innerText='copied!',setTimeout(()=>{a.innerText='copy'},2e3)}a.addEventListener('click',e=>{if('clipboard'in navigator){navigator.clipboard.writeText(b.textContent),d();return}const a=document.createRange();a.selectNodeContents(b);const c=window.getSelection();c.removeAllRanges(),c.addRange(a);try{document.execCommand('copy'),d()}catch(a){}c.removeRange(a)}),c.classList.contains("highlight")?c.appendChild(a):c.parentNode.firstChild==c||(b.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?b.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(a):b.parentNode.appendChild(a))})</script>
</body>
</html>